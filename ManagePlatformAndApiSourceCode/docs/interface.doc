<html xmlns:v="urn:schemas-microsoft-com:vml"
    xmlns:o="urn:schemas-microsoft-com:office:office"
    xmlns:w="urn:schemas-microsoft-com:office:word"
    xmlns="http://www.w3.org/TR/REC-html40">
    <head><meta http-equiv=Content-Type content="text/html; charset=utf-8">
    <style type="text/css">
        table  
        {  
            border-collapse: collapse;
            border: none;  
            width: 100%;  
        }  
        td,tr  
        {  
            border: solid #CCC 1px;
            padding:3px;
            font-size:9pt;
        } 
        .codestyle{
            word-break: break-all;
            mso-highlight:rgb(252, 252, 252);
            padding-left: 5px; background-color: rgb(252, 252, 252); border: 1px solid rgb(225, 225, 232);
        }
        img {
            width:100;
        }
    </style>
    <meta name=ProgId content=Word.Document>
    <meta name=Generator content="Microsoft Word 11">
    <meta name=Originator content="Microsoft Word 11">
    <xml><w:WordDocument><w:View>Print</w:View></xml></head>
    <body><h1>错误值定义</h1><div style="margin-left:20px;"><ul>
<li>错误值定义规范</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">首位</th>
<th style="text-align: left;">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">1</td>
<td style="text-align: left;">相对通用类，具体业务关联不紧密的错误类型，例如token无效，手机号不合法等等</td>
</tr>
<tr>
<td style="text-align: left;">2</td>
<td style="text-align: left;">与业务系统相关的错误类型，例如门店不存在，盒盲ID错误等等</td>
</tr>
<tr>
<td style="text-align: left;">3</td>
<td style="text-align: left;">与用户相关的错误类型，例如会员不存在，等级信息错误等</td>
</tr>
<tr>
<td style="text-align: left;">4</td>
<td style="text-align: left;">与支付相关的错误类型</td>
</tr>
<tr>
<td style="text-align: left;">5</td>
<td style="text-align: left;">待扩展</td>
</tr>
</tbody>
</table>
<ul>
<li>定义所有接口的错误值信息</li>
</ul>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">code</th>
<th style="text-align: left;">描述</th>
<th style="text-align: left;">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">0</td>
<td style="text-align: left;">正确</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">10001</td>
<td style="text-align: left;">缺少必填参数</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">10002</td>
<td style="text-align: left;">无效请求</td>
<td style="text-align: left;">请求数据非法</td>
</tr>
<tr>
<td style="text-align: left;">10003</td>
<td style="text-align: left;">token过期或者无效</td>
<td style="text-align: left;">前端收到此错误值时应重新获取token</td>
</tr>
<tr>
<td style="text-align: left;">10010</td>
<td style="text-align: left;">appid不存在</td>
<td style="text-align: left;">所使用的appid已被服务端删除，应需重新分配</td>
</tr>
<tr>
<td style="text-align: left;">10011</td>
<td style="text-align: left;">secert错误</td>
<td style="text-align: left;">所使用的secert已被服务端更新，应需重新分配</td>
</tr>
<tr>
<td style="text-align: left;">10021</td>
<td style="text-align: left;">小程序登录错误</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">10022</td>
<td style="text-align: left;">小程序数据解码失败</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">10023</td>
<td style="text-align: left;">openid错误</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">10024</td>
<td style="text-align: left;">数据库错误</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">10025</td>
<td style="text-align: left;">短信发送错误</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">10026</td>
<td style="text-align: left;">短信认证错误</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">10027</td>
<td style="text-align: left;">token认证错误</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">10028</td>
<td style="text-align: left;">code认证错误</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">20001</td>
<td style="text-align: left;">当日开盒次数已用完</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">20002</td>
<td style="text-align: left;">开盒条件缺失，请重试</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">20003</td>
<td style="text-align: left;">当前城市暂未开放！</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">30001</td>
<td style="text-align: left;">手机号错误</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">30002</td>
<td style="text-align: left;">验证码错误</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">30003</td>
<td style="text-align: left;">验证码已过期</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">30004</td>
<td style="text-align: left;">手机号已被占用</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">30005</td>
<td style="text-align: left;">非法操作</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">30006</td>
<td style="text-align: left;">文章不存在</td>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">-</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">-</td>
</tr>
</tbody>
</table>
<ul>
<li>备注：无</li>
</ul></div><h1>2、客户端接口</h1><div style="margin-left:0px;"><h2>2.1、客户端接口统一规范</h2><div style="margin-left:0px;"><h5>简要描述</h5>
<ul>
<li>此部分定义客户端的接口定义规范</li>
</ul>
<h5>说明</h5>
<ul>
<li>考虑到前端接口与后台接口虽然都采用前后分离的模式进行设计，但是在部署上有可能会采用分布式的方式进行部署，所以前端接口与后台接口分别进行设计和实现，即使功能上有部分重合，也分别进行实现。</li>
</ul>
<h5>token安全验证机制</h5>
<ul>
<li>所有的接口通讯都必须通过token验证，关于token参数的传递，考虑不同客户端的实现便利，接口端兼容http头和数据体两种方式的token验证，或者将token信息组装到http头信息中进行提交，或者将token作为参数体中提交均可。</li>
</ul>
<h5>接口规范</h5>
<ul>
<li>客户端的所有接口，均使用POST方式调用。</li>
</ul>
<h5>备注</h5>
<p>生产环境前缀地址：  <a href="https://api.sjtuanliu.com/dev/V1/">https://api.sjtuanliu.com/dev/V1/</a>
如：<a href="https://api.sjtuanliu.com/dev/V1/Api/User/loginBySMSCode">https://api.sjtuanliu.com/dev/V1/Api/User/loginBySMSCode</a></p>
<p>开发测试环境前缀地址：  <a href="https://api.sjtuanliu.com/dist/V1/">https://api.sjtuanliu.com/dist/V1/</a>
如：<a href="https://api.sjtuanliu.com/dist/V1/Api/User/loginBySMSCode">https://api.sjtuanliu.com/dist/V1/Api/User/loginBySMSCode</a></p>
<ul>
<li>
</li>
</ul></div><h2>2.1、公共类</h2><div style="margin-left:20px;"><h3>2.1.1、获取通信token(废弃)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>前端APP打开时，获取数据传输必传token参数
所有其他接口在被调用时，均需要传入token参数，此接口为token的唯一获取接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/System/getToken</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">AppID</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>调用者的类型，枚举数据，共以下几种类型<br>H5：微信端H5前端网页<br>Wap：手机浏览器WAP端前端网页<br>Web：普通Web网站页面<br> Mini：微信小程序<br>IOS：IOS端app<br>Android：Android端app</td>
</tr>
<tr>
<td style="text-align: left;">Secret</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>系统分配的密码</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
      &quot;token&quot;: &quot;ACCESS_TOKEN &quot;,
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">string</td>
<td>所获取到的token，之后的所有接口均需要使用</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>前端调用者，在取得token之后，应在本地进行存储，供之后的其他接口调用。</li>
<li>token的有效期由服务端控制，首次获得到一定时间内有效，每次使用后该时间都会被刷新，长时间不使用超过所设定的时间段时，token失效，前端应重新获取。具体由错误值定义表定义。</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>使用Redis生成和存取Token；</li>
<li>记录客户端请求数据日志，按客户端类型/来源IP/时间进行存储，用于之后的数据统计；</li>
<li>返回有效Token;</li>
</ol></div><h3>2.1.2、获取短信验证码(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取短信验证码</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/System/getSMSCode</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">phone</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>手机号</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>此接口参数暂定，可能会因为安全原因引入其他人机验证步骤，增加安全验证参数。</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>判断安全性(根据后续的安全参数)；</li>
<li>调用第三方接口完成短信发送;</li>
</ol></div><h3>2.1.3、获取客户端初始化信息(已完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取客户端初始化信息</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/System/getInitData</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">uuid</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>客户端的唯一标识</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        versions : {
            ios : {
                newest : &quot;1.0.4&quot;,
                url : &quot;https://apps.apple.com/cn/app/notability/ixxxx&quot;,
                force : 0/1
            },
            ios : {
                newest : &quot;1.0.4&quot;,
                url : &quot;https://a.apk&quot;,
                force : 0/1
            }
        },
        launchinfo : {
            image : &quot;http://abc.jpg&quot;,
            url : &quot;http://www.baidu.com&quot;
        }
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">versions</td>
<td style="text-align: left;">Array</td>
<td>版本相关内容</td>
</tr>
<tr>
<td style="text-align: left;">newest</td>
<td style="text-align: left;">string</td>
<td>当前最新版本版本号</td>
</tr>
<tr>
<td style="text-align: left;">url</td>
<td style="text-align: left;">string</td>
<td>安装下载地址(android适用)</td>
</tr>
<tr>
<td style="text-align: left;">force</td>
<td style="text-align: left;">int</td>
<td>是否强制必须更新才能使用 1是，0不更新也可使用</td>
</tr>
<tr>
<td style="text-align: left;">launchinfo</td>
<td style="text-align: left;">Array</td>
<td>运行相关内容</td>
</tr>
<tr>
<td style="text-align: left;">image</td>
<td style="text-align: left;">string</td>
<td>app启动页图片，更新后用于下次启动时，如果为空则不需更新</td>
</tr>
<tr>
<td style="text-align: left;">url</td>
<td style="text-align: left;">string</td>
<td>点击要跳转的目标地址，如果为空则不跳转</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>2.1.4、上传文件(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>上传文件</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/System/uploadFile</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">file</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">file</td>
<td>要上传的文件</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        url : &quot;http://a.png&quot;
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>判断安全性(根据后续的安全参数)；</li>
</ol></div><h3>2.1.5、获取隐私协议(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取隐私协议</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/System/getPivacyPolicy</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        content : &quot;隐私协议html富文本&quot;
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>判断安全性(根据后续的安全参数)；</li>
<li>调用第三方接口完成短信发送;</li>
</ol></div><h3>2.1.6、获取短信验证码-带安全验证(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取短信验证码，此接口增加安全验证用于替换原有直接发送验证码接口。</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/System/getSafeSMSCode</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">phone</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>手机号</td>
</tr>
<tr>
<td style="text-align: left;">ticket</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>从行为验证接口得到的ticket</td>
</tr>
<tr>
<td style="text-align: left;">randstr</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>从行为验证接口得到的随机字符串</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>判断安全性(根据后续的安全参数)；</li>
<li>调用第三方接口完成短信发送;</li>
</ol></div></div><h2>2.2、用户</h2><div style="margin-left:20px;"><h3>2.2.1、注册/登录-通过一键登录(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>用户使用第三方一键登录完成注册/登录</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/loginByMob</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>第三方平台的loginToken信息</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        isnew : 1,
        token : &quot;token&quot;
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">isnew</td>
<td style="text-align: left;">int</td>
<td>0/1，是否新用户，1是新用户，0是老用户；如果是新用户，则客户端应弹出资料完善相关的标签表单等流程</td>
</tr>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">string</td>
<td>用户登录得到的token</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>使用code调用一键登录，得到用户手机号；</li>
<li>判断用户手机号是否已存在;</li>
<li>完成注册或登录逻辑；</li>
<li>检查用户是否完成新用户资料完善过程；</li>
</ol></div><h3>2.2.2、注册/登录-通过手机号认证(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>在一键登录无法使用情，用户使用第三方号码认证完成注册/登录</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/loginByToken</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">phone</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>用户手机号</td>
</tr>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>第三方平台的token信息</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        isnew : 1,
        token: &quot;token&quot;
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">isnew</td>
<td style="text-align: left;">int</td>
<td>0/1，是否新用户，1是新用户，0是老用户；如果是新用户，则客户端应弹出资料完善相关的标签表单等流程</td>
</tr>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">string</td>
<td>用户登录得到的token</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>使用code调用一键登录，得到用户手机号；</li>
<li>判断用户手机号是否已存在;</li>
<li>完成注册或登录逻辑；</li>
<li>检查用户是否完成新用户资料完善过程；</li>
</ol></div><h3>2.2.3、注册/登录-通过短信验证码(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>用户使用短信验证码完成登录/注册(如果手机号已存在，则为登录；否则自动注册新用户然后登录)</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/loginBySMSCode</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">phone</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>用户手机号</td>
</tr>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>短信验证码</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        isnew : 1,
        token:&quot;token&quot;
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">isnew</td>
<td style="text-align: left;">int</td>
<td>0/1，是否新用户，1是新用户，0是老用户；如果是新用户，则客户端应弹出资料完善相关的标签表单等流程</td>
</tr>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">string</td>
<td>用户登录得到的token</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>判断验证码，过期当前验证码；</li>
<li>判断用户手机号是否已存在;</li>
<li>完成注册或登录逻辑；</li>
<li>检查用户是否完成新用户资料完善过程；</li>
</ol></div><h3>2.2.4、提交新用户基本信息(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>新用户注册后，需要填写基本表单信息，此接口用于客户端提交用户所填写的表单内容</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/submitNewUserBaseData</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>姓名</td>
</tr>
<tr>
<td style="text-align: left;">age</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>年龄</td>
</tr>
<tr>
<td style="text-align: left;">sex</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>1男生，0女生</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>更新新用户资料；</li>
</ol></div><h3>2.2.5、获取新用户表单问题(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>新用户注册后，需要填写部分表单信息，此接口用户客户端获取表单内容</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/getNewUserFormData</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
                &quot;queslist&quot;:[
                    {
                        &quot;id&quot; : 44,
                        &quot;title&quot; : &quot;你喜欢跑步的程度&quot;,
                        &quot;itemlist&quot;:[
                            {
                                &quot;itemid&quot;:22,
                                &quot;itemname&quot;:&quot;打死也不去&quot;,
                            },
                            {
                                &quot;itemid&quot;:23,
                                &quot;itemname&quot;:&quot;偶尔跑跑&quot;,
                            },
                            {
                                &quot;itemid&quot;:28,
                                &quot;itemname&quot;:&quot;不跑活不下去&quot;,
                            }
                        ]
                    },
                    {
                        &quot;id&quot; : 55,
                        &quot;title&quot; : &quot;新奇程度&quot;,
                        &quot;itemlist&quot;:[
                            {
                                &quot;itemid&quot;:22,
                                &quot;itemname&quot;:&quot;好奇宝宝&quot;,
                            },
                            {
                                &quot;itemid&quot;:23,
                                &quot;itemname&quot;:&quot;不好奇&quot;,
                            },
                            {
                                &quot;itemid&quot;:28,
                                &quot;itemname&quot;:&quot;害死猫&quot;,
                            }
                        ]
                    },
                ]
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">queslist</td>
<td style="text-align: left;">Array</td>
<td>问答页中的问题列表</td>
</tr>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">int</td>
<td>问题的唯一ID</td>
</tr>
<tr>
<td style="text-align: left;">title</td>
<td style="text-align: left;">string</td>
<td>问题的标题文字</td>
</tr>
<tr>
<td style="text-align: left;">itemlist</td>
<td style="text-align: left;">Array</td>
<td>则此值为可选择的范围列表</td>
</tr>
<tr>
<td style="text-align: left;">itemid</td>
<td style="text-align: left;">int</td>
<td>可选项的唯一ID</td>
</tr>
<tr>
<td style="text-align: left;">itemname</td>
<td style="text-align: left;">string</td>
<td>可选项的文字内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>暂定每个问题都必答</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>返回新用户需要填写的表单数据结构内容；</li>
</ol></div><h3>2.2.6、提交新用户表单问题(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>新用户注册后，需要填写部分表单信息，此接口用于客户端提交用户所填写的表单内容</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/submitNewUserFormData</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">jsonstr</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">Array</td>
<td>题目和答案所构造的JSON格式字符串，具体格式和示例如下：</td>
</tr>
</tbody>
</table>
<table width='100%' class='codestyle'><pre><code>[
    {
        quesid:1,//题目ID
        ans:&quot;4&quot;,//范围题所选定的项的ID
    },
]</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        &quot;list&quot; : [
            {
                &quot;title&quot; : &quot;系统赠送的券或其他的标题文字&quot;,
                &quot;num&quot; : 2,
            }
        ],
        &quot;memo&quot; : &quot;其他的文字说明&quot;,
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">list</td>
<td style="text-align: left;">Array</td>
<td>完善资料后，系统赠送的券或其他的礼品</td>
</tr>
<tr>
<td style="text-align: left;">title</td>
<td style="text-align: left;">string</td>
<td>标题文字</td>
</tr>
<tr>
<td style="text-align: left;">num</td>
<td style="text-align: left;">int</td>
<td>数量</td>
</tr>
<tr>
<td style="text-align: left;">memo</td>
<td style="text-align: left;">string</td>
<td>页面所需要显示的其他提示性文字</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>更新新用户资料；</li>
<li>根据系统规则赠送相应礼品包；</li>
</ol></div><h3>2.2.7、获取我的信息(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>点击会员中心页，显示所需的各项信息的集合</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/getMyDataList</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        memberinfo:{
            nickname : &quot;用户名&quot;,
            avatar : &quot;http://a.png&quot;,
            nowlevel : &quot;V3&quot;,
            levelpoint : 100,
            nextlevel : &quot;V4&quot;,
            nextlevelpoint : 500
            nowpoint : 350,
        },
        mybeingboxlist : {
                beingbox : 0/1,
                boxid : 1,
                status : 0~5,
        }
        myboxnum : 9,
        mypropsnum : 3,
        myachievelist : [
            {
                achieveid : 3
                title : &quot;成就名称&quot;,
                pic : &quot;http://a.png&quot;,
                lightpic : &quot;http://b.png&quot;,
                islight : 0/1,
                getdate : &quot;2021-10-25&quot;
            }
        ]
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">memberinfo</td>
<td style="text-align: left;">Array</td>
<td>会员相关信息</td>
</tr>
<tr>
<td style="text-align: left;">nickname</td>
<td style="text-align: left;">string</td>
<td>用户昵称或用户名</td>
</tr>
<tr>
<td style="text-align: left;">avatar</td>
<td style="text-align: left;">string</td>
<td>用户头像地址</td>
</tr>
<tr>
<td style="text-align: left;">level</td>
<td style="text-align: left;">string</td>
<td>当前所在等级名称</td>
</tr>
<tr>
<td style="text-align: left;">nextlevel</td>
<td style="text-align: left;">string</td>
<td>下一级的等级名称</td>
</tr>
<tr>
<td style="text-align: left;">nextpoint</td>
<td style="text-align: left;">string</td>
<td>到下一级所需的点数</td>
</tr>
<tr>
<td style="text-align: left;">levelprogress</td>
<td style="text-align: left;">string</td>
<td>当前等级进度百分比</td>
</tr>
<tr>
<td style="text-align: left;">mybeingboxlist</td>
<td style="text-align: left;">Array</td>
<td>进行中的盲盒信息</td>
</tr>
<tr>
<td style="text-align: left;">beingbox</td>
<td style="text-align: left;">int</td>
<td>是否有进行中的盲盒，0没有，1有</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">int</td>
<td>如果有进行中的盲盒，此值为盲盒ID</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">int</td>
<td>如果有进行中的盲盒，此值为盲盒的当前状态</td>
</tr>
<tr>
<td style="text-align: left;">myboxnum</td>
<td style="text-align: left;">int</td>
<td>我的盲盒数量</td>
</tr>
<tr>
<td style="text-align: left;">mypropsnum</td>
<td style="text-align: left;">int</td>
<td>我的道具数量</td>
</tr>
<tr>
<td style="text-align: left;">myachievelist</td>
<td style="text-align: left;">Array</td>
<td>成就列表</td>
</tr>
<tr>
<td style="text-align: left;">achieveid</td>
<td style="text-align: left;">int</td>
<td>成就ID</td>
</tr>
<tr>
<td style="text-align: left;">title</td>
<td style="text-align: left;">string</td>
<td>成就名称</td>
</tr>
<tr>
<td style="text-align: left;">pic</td>
<td style="text-align: left;">string</td>
<td>成就未点亮时的图标</td>
</tr>
<tr>
<td style="text-align: left;">lightpic</td>
<td style="text-align: left;">string</td>
<td>成就点亮后的图标</td>
</tr>
<tr>
<td style="text-align: left;">islight</td>
<td style="text-align: left;">int</td>
<td>成就是否已点亮，1是，0未</td>
</tr>
<tr>
<td style="text-align: left;">getdate</td>
<td style="text-align: left;">string</td>
<td>获得日期，未获得则为空</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>2.2.8、获取我的盲盒列表(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取我的盲盒列表</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/getMyBoxList</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的状态，不输入则为全部，如果查询多个状态，则多个状态之间使用竖线分隔</td>
</tr>
<tr>
<td style="text-align: left;">page</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的页数，不输入则为第一页</td>
</tr>
<tr>
<td style="text-align: left;">limit</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的每页数量，不输入固定为10个每页</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        myboxticketnum : 30,
        boxraisenum : 88,
        &quot;list&quot;: [
        {
            &quot;boxid&quot; : 123,
            &quot;title&quot; : &quot;盲盒标题&quot;,
            &quot;time&quot; : &quot;2021-09-09 12:12:12&quot;,
            &quot;subtitle&quot; : &quot;位置文字&quot;,
            &quot;status&quot;  : 0~5
        }
      ],
      &quot;totalnum&quot;:333,
      &quot;totalpage&quot;:22,
      &quot;currpage&quot;:1,
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">myboxticketnum</td>
<td style="text-align: left;">int</td>
<td>我可开的盲盒数量</td>
</tr>
<tr>
<td style="text-align: left;">boxraisenum</td>
<td style="text-align: left;">int</td>
<td>盲盒满意度，百分比中的整数部分</td>
</tr>
<tr>
<td style="text-align: left;">list</td>
<td style="text-align: left;">Array</td>
<td>我的盲盒列表</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">int</td>
<td>盲盒的唯一ID</td>
</tr>
<tr>
<td style="text-align: left;">title</td>
<td style="text-align: left;">string</td>
<td>盲盒标题</td>
</tr>
<tr>
<td style="text-align: left;">time</td>
<td style="text-align: left;">string</td>
<td>盲盒开盒时间，格式 YYYYY-MM-DD HH:II:SS</td>
</tr>
<tr>
<td style="text-align: left;">subtitle</td>
<td style="text-align: left;">string</td>
<td>盲盒位置文字</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">string</td>
<td>盲盒状态</td>
</tr>
<tr>
<td style="text-align: left;">totalnum</td>
<td style="text-align: left;">string</td>
<td>总数量</td>
</tr>
<tr>
<td style="text-align: left;">totalpage</td>
<td style="text-align: left;">string</td>
<td>总页数</td>
</tr>
<tr>
<td style="text-align: left;">currpage</td>
<td style="text-align: left;">string</td>
<td>当前页数</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>2.2.9、退出登录(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>客户端退出登录</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/logout</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>登录得到的token</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>使用code调用一键登录，得到用户手机号；</li>
<li>判断用户手机号是否已存在;</li>
<li>完成注册或登录逻辑；</li>
<li>检查用户是否完成新用户资料完善过程；</li>
</ol></div><h3>2.2.10、获取用户资料信息(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>个人中心页获取资料信息</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/getUserProfile</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
            headimg : &quot;http://a.png&quot;,
            nickname : &quot;恐龙&quot;,
            mob : &quot;13987654321&quot;,
            age : &quot;22&quot;,
            sex : 0/1,
            notifystatus : 0/1,
            taglist : [
                {
                    tagid : 22,
                    tagname : &quot;大美女&quot;
                }
            ]
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">headimg</td>
<td style="text-align: left;">String</td>
<td>头像</td>
</tr>
<tr>
<td style="text-align: left;">nickname</td>
<td style="text-align: left;">String</td>
<td>昵称</td>
</tr>
<tr>
<td style="text-align: left;">mob</td>
<td style="text-align: left;">String</td>
<td>手机号</td>
</tr>
<tr>
<td style="text-align: left;">age</td>
<td style="text-align: left;">String</td>
<td>年龄</td>
</tr>
<tr>
<td style="text-align: left;">sex</td>
<td style="text-align: left;">String</td>
<td>性别，0女生，1男生</td>
</tr>
<tr>
<td style="text-align: left;">notifystatus</td>
<td style="text-align: left;">String</td>
<td>推送通知状态，0关闭，1打开</td>
</tr>
<tr>
<td style="text-align: left;">taglist</td>
<td style="text-align: left;">Array</td>
<td>用户已拥有的标签</td>
</tr>
<tr>
<td style="text-align: left;">tagid</td>
<td style="text-align: left;">int</td>
<td>标签的ID</td>
</tr>
<tr>
<td style="text-align: left;">tagname</td>
<td style="text-align: left;">String</td>
<td>标签的名称</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p></div><h3>2.2.11、设置用户资料信息(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>个人中心设置用户资料信息</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/setUserProfile</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">headimg</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>新的头像，不传入则不做修改</td>
</tr>
<tr>
<td style="text-align: left;">nickname</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>新的昵称，不传入则不做修改</td>
</tr>
<tr>
<td style="text-align: left;">sex</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>新的性别，不传入则不做修改</td>
</tr>
<tr>
<td style="text-align: left;">age</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>新的年龄，不传入则不做修改</td>
</tr>
<tr>
<td style="text-align: left;">notifystatus</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>新的通知开关，不传入则不做修改</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p></div><h3>2.2.12、获取用户标签信息(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>个人中心页获取用户标签信息</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/getUserTagList</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: [
            {
                id : 123,
                name : &quot;喜欢吃辣&quot;,
                ischecked : 1/0,//是否已选中
            }
        ]
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">String</td>
<td>标签ID</td>
</tr>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">String</td>
<td>标签名称</td>
</tr>
<tr>
<td style="text-align: left;">ischecked</td>
<td style="text-align: left;">String</td>
<td>该用户是否已选中</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p></div><h3>2.2.13、设置用户标签信息(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>个人中心页设置用户标签信息</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/setUserTagList</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">tagids</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">Array</td>
<td>选中的tagid的数组</td>
</tr>
</tbody>
</table>
<p><strong>tagids格式示例</strong></p>
<table width='100%' class='codestyle'><pre><code>    [1,2,3,4]</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p></div><h3>2.2.14、修改手机号码(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>用户在个人中心页修改手机号码</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/resetPhoneBySMSCode</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通讯token</td>
</tr>
<tr>
<td style="text-align: left;">phone</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>新的手机号</td>
</tr>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>短信验证码</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>判断验证码，过期当前验证码；</li>
<li>判断用户新手机号是否已存在，已被注册则提示失败</li>
<li>手机号未被使用则更新手机号；</li>
</ol></div><h3>2.2.15、查询是否有赠送道具(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>进入首页或者登录后，查询今日是否有赠送的卡卷</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/checkTodayGrocery</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: [
            {
                ishad : 0/1,//是否有赠送的卡卷，1有，0没有
                url : &quot;http://a.png&quot;,//如果有赠送的卡券需要显示，则此值为该图片的URL，否则此值为空
            }
        ]
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">ishad</td>
<td style="text-align: left;">int</td>
<td>是否有赠送的卡卷，1有，0没有</td>
</tr>
<tr>
<td style="text-align: left;">url</td>
<td style="text-align: left;">String</td>
<td>如果有赠送的卡券需要显示，则此值为该图片的URL，否则此值为空</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p></div><h3>2.2.16、获取我的道具列表(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取我的道具列表</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/getMyGroceryList</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的状态，不输入则为全部，如果查询多个状态，则多个状态之间使用竖线分隔，状态：0未使用，1已使用，2已过期</td>
</tr>
<tr>
<td style="text-align: left;">page</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的页数，不输入则为第一页</td>
</tr>
<tr>
<td style="text-align: left;">limit</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的每页数量，不输入固定为10个每页</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        &quot;list&quot;: [
        {
            &quot;id&quot; : &quot;道具ID&quot;,
            &quot;title&quot; : &quot;道具标题&quot;,
            &quot;subtitle&quot; : &quot;副标题&quot;,
            &quot;icon&quot; : &quot;http://a.png&quot;,
            &quot;time&quot; : &quot;2021-09-09&quot;,
            &quot;status&quot;  : 0/1/2
        }
      ],
      &quot;totalnum&quot;:333,
      &quot;totalpage&quot;:22,
      &quot;currpage&quot;:1,
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">list</td>
<td style="text-align: left;">Array</td>
<td>我的道具列表</td>
</tr>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">int</td>
<td>道具的唯一ID</td>
</tr>
<tr>
<td style="text-align: left;">title</td>
<td style="text-align: left;">string</td>
<td>道具标题</td>
</tr>
<tr>
<td style="text-align: left;">subtitle</td>
<td style="text-align: left;">string</td>
<td>道具副标题</td>
</tr>
<tr>
<td style="text-align: left;">time</td>
<td style="text-align: left;">string</td>
<td>有效期，格式 YYYYY-MM-DD</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">string</td>
<td>道具状态，0未使用，1已使用，2已过期</td>
</tr>
<tr>
<td style="text-align: left;">totalnum</td>
<td style="text-align: left;">string</td>
<td>总数量</td>
</tr>
<tr>
<td style="text-align: left;">totalpage</td>
<td style="text-align: left;">string</td>
<td>总页数</td>
</tr>
<tr>
<td style="text-align: left;">currpage</td>
<td style="text-align: left;">string</td>
<td>当前页数</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>2.2.17、领取开盒券(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>领取开盒券</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/drawGiftGrocery</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">type</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>要领取的券的类型，目前仅开盒券，固定值为1</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>触发本次赠送的boxid</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div></div><h2>2.3、盲盒</h2><div style="margin-left:20px;"><h3>2.3.1、获取可选盲盒类型(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>进入盲盒页面，先获取可选的所有盲盒类型</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Box/getBoxType</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: [
            {
                typeid : 1,
                pic : &quot;http://a.png&quot;,
                title : &quot;盲盒标题&quot;,
                status : 0/1
            }
        ],
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容,获取到的盲盒列表，数组格式，以兼容后续可能得到多个盲盒的情况</td>
</tr>
<tr>
<td style="text-align: left;">typeid</td>
<td style="text-align: left;">int</td>
<td>盲盒的类型ID</td>
</tr>
<tr>
<td style="text-align: left;">pic</td>
<td style="text-align: left;">string</td>
<td>盲盒类型的显示用图片</td>
</tr>
<tr>
<td style="text-align: left;">title</td>
<td style="text-align: left;">string</td>
<td>盲盒类型的标题</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">string</td>
<td>该类型盲盒的当前状态，0正常开放，1暂停，在为1状态下，客户端点击后应弹出敬请期待之类的文案提示</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>2.3.2、查询是否有未开启和进行中的盲盒(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>查询是否有未开启和进行中的盲盒</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Box/checkBeingBox</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        isbeing : 0/1,
        boxid : 123,
        status : 0~6,
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">isbeing</td>
<td style="text-align: left;">string</td>
<td>是否有待开启或者进行中的盲盒，0没有，1有</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">string</td>
<td>如果有，则此值为盲盒的ID</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">string</td>
<td>如果有，则此值为该盲盒的当前状态</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>2.3.3、获取盲盒待答问题(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>选定某盲盒类型后，查询该类型可选择的问题列表</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Box/getBoxQuesList</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">typeid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>获取盲盒类型中得到的类型ID</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        pagenum : 2,
        list : [
            {
                &quot;id&quot; : 13,
                &quot;title&quot; : &quot;出行人数&quot;,
                &quot;type&quot; : &quot;tag&quot;,
                &quot;defaultid&quot; : 1,
                &quot;itemlist&quot;:[
                    {
                        &quot;itemid&quot;:1,
                        &quot;itemname&quot;:&quot;1人&quot;,
                        isdefault: 0,
                        imglistname : &quot;imagelist1&quot;,
                    },
                    {
                        &quot;itemid&quot;:2,
                        &quot;itemname&quot;:&quot;2人&quot;,
                        isdefault: 1,
                        imglistname : &quot;imagelist2&quot;,
                    },
                    {
                        &quot;itemid&quot;:3,
                        &quot;itemname&quot;:&quot;2人以上&quot;,
                        isdefault: 0,
                        imglistname : &quot;imagelist3&quot;,
                    }
            },
            {
                &quot;id&quot; : 13,
                &quot;title&quot; : &quot;当前心情图片数组&quot;,
                &quot;type&quot; : &quot;image&quot;,
                &quot;defaultid&quot; : 8,
                &quot;itemlist&quot; : {
                        &quot;imagelist1&quot;:[
                        {
                            &quot;itemid&quot;:8,
                            &quot;itemname&quot;:&quot;高兴&quot;,
                            &quot;itempic&quot;:&quot;http://a.png&quot;,
                            isdefault:1
                        },
                        {
                            &quot;itemid&quot;:10,
                            &quot;itemname&quot;:&quot;失落&quot;,
                            &quot;itempic&quot;:&quot;http://b.png&quot;,
                            isdefault: 3
                        },
                    ],
                    &quot;imagelist2&quot;:[
                        {
                            &quot;itemid&quot;:8,
                            &quot;itemname&quot;:&quot;高兴&quot;,
                            &quot;itempic&quot;:&quot;http://a.png&quot;,
                            isdefault:1
                        },
                        {
                            &quot;itemid&quot;:10,
                            &quot;itemname&quot;:&quot;失落&quot;,
                            &quot;itempic&quot;:&quot;http://b.png&quot;,
                            isdefault: 3
                        },
                    ],
                    &quot;imagelist3&quot;:[
                        {
                            &quot;itemid&quot;:8,
                            &quot;itemname&quot;:&quot;高兴&quot;,
                            &quot;itempic&quot;:&quot;http://a.png&quot;,
                            isdefault:1
                        },
                    ],
                },
            },
            {
                &quot;id&quot; : 13,
                &quot;title&quot; : &quot;出行预算&quot;,
                &quot;type&quot; : &quot;tag&quot;,
                &quot;defaultid&quot; : 2,
                &quot;itemlist&quot;:[
                    {
                        &quot;itemid&quot;:1,
                        &quot;itemname&quot;:&quot;不花钱&quot;,
                        isdefault: 0,
                    },
                    {
                        &quot;itemid&quot;:2,
                        &quot;itemname&quot;:&quot;100~300&quot;,
                        isdefault: 1,
                    },
                    {
                        &quot;itemid&quot;:3,
                        &quot;itemname&quot;:&quot;800~2000&quot;,
                        isdefault: 0
                    }
            },
            {
                &quot;id&quot; : 17,
                &quot;title&quot; : &quot;出行距离&quot;,
                &quot;type&quot; : &quot;range&quot;,
                &quot;defaultid&quot; : 10,
                &quot;itemlist&quot;:[
                    {
                        &quot;itemid&quot;:8,
                        &quot;itemname&quot;:&quot;500米以内&quot;,
                        isdefault: 1
                    },
                    {
                        &quot;itemid&quot;:10,
                        &quot;itemname&quot;:&quot;3公里以内&quot;,
                        isdefault: 0,
                    },
                    {
                        &quot;itemid&quot;:22,
                        &quot;itemname&quot;:&quot;8公里以上&quot;,
                        isdefault:0
                    }
            },
        ],
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">list</td>
<td style="text-align: left;">Array</td>
<td>获取到的待答问题列表，数组格式</td>
</tr>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">int</td>
<td>待答问题的ID</td>
</tr>
<tr>
<td style="text-align: left;">title</td>
<td style="text-align: left;">string</td>
<td>待答问题的标题，每个待答问题的ID唯一，用于下个提交接口时使用</td>
</tr>
<tr>
<td style="text-align: left;">type</td>
<td style="text-align: left;">string</td>
<td>待答问题的类型，用于客户端根据不同类型采用不同的方式展现，枚举值，当前可用值暂定为：<br> tag: 标签选择样式<br> range:选择距离样式<br>image:选择图片样式(暂不做该类型)</td>
</tr>
<tr>
<td style="text-align: left;">defaultid</td>
<td style="text-align: left;">int</td>
<td>可选列表中，默认选中的ID</td>
</tr>
<tr>
<td style="text-align: left;">itemlist</td>
<td style="text-align: left;">Array</td>
<td>待答问题的可选列表，数组格式</td>
</tr>
<tr>
<td style="text-align: left;">itemid</td>
<td style="text-align: left;">int</td>
<td>可选项的ID，用于下个提交接口时使用</td>
</tr>
<tr>
<td style="text-align: left;">itemname</td>
<td style="text-align: left;">int</td>
<td>可选项的显示文字</td>
</tr>
<tr>
<td style="text-align: left;">itempic</td>
<td style="text-align: left;">int</td>
<td>可选项的图片文件地址</td>
</tr>
<tr>
<td style="text-align: left;">isdefault</td>
<td style="text-align: left;">int</td>
<td>自己是否默认选中项，与defaultid功能相同,1默认选中，0不是默认值</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>2.3.4、获取盲盒(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>提交变量，得到盲盒</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Box/getOne</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">typeid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>当前所选盲盒类型</td>
</tr>
<tr>
<td style="text-align: left;">lng</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>当前经度</td>
</tr>
<tr>
<td style="text-align: left;">lat</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>当前纬度</td>
</tr>
<tr>
<td style="text-align: left;">jsonstr</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">Array</td>
<td>待答问题和所选答案所构造的JSON格式字符串，具体格式和示例如下：</td>
</tr>
</tbody>
</table>
<table width='100%' class='codestyle'><pre><code>[
    {
        quesid : 2,//题目ID
        ans : 3,//选项的ID
    },
]</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        list : [
            {
                boxid : 1,
                indexid : 1/2/3,
                logo : &quot;http://b.png&quot;,
                pic : &quot;http://a.png&quot;,//背景图片
                typename : &quot;类型名称&quot;,
                typelogo : &quot;http://a.png&quot;,//类型图标
                title : &quot;盲盒标题&quot;,
                realname : &quot;目的地的真实名称&quot;,
                readAddress : &quot;目的地的真实地址&quot;
                buildName : &quot;到达前用于显示的位置名称&quot;
                address : &quot;到达前用于显示的地址&quot;,
                detail : &quot;到达前用于显示的文案文字&quot;,
                colorlist : {
                    textcolor : &quot;(255,123,111,0.8)&quot;,
                    bgcolor : &quot;(255,123,111,0.8)&quot;,
                    varcolor : &quot;(255,123,111,0.8)&quot;,
                }
                arrivedtext : &quot;此时的你，已经来到...，小盒为{{SJTL1}}的你推荐{{SJTL2}}{{SJTL3}}，相信可以{{SJTL4}}。&quot;,
                arrivedvarlist : [
                    &quot;失落&quot;,
                    &quot;一大盆馒头&quot;,
                    &quot;----粤菜&quot;,
                    &quot;让你吃的很饱&quot;,
                ],
                beinpoint : &quot;开启行程可得到的幸运值&quot;,
                commentpoint : &quot;参与评价可得到的幸运值&quot;,
                sharepoint : &quot;分享可得到的幸运值&quot;,
                items :[
                    {
                        item: &quot;左侧文字&quot;,
                        value : &quot;右侧内容&quot;,
                        type: 1/2/3/4
                    }
                ],
                gotnum : &quot;来过人数&quot;,
                gotlist : [ //最多显示5个
                    &quot;http://a.png&quot;,&quot;http://b.png&quot;,
                ]
                point : &quot;评分,&quot;
                lnglat : {
                    lng : &quot;位置经度&quot;,
                    lat : &quot;位置纬度&quot;
                },
                expiretime : 过期时间
                navigationlist : {
                    distance  : &quot;方案距离，单位：米&quot;,
                    steps  : [
                        {
                            instruction  : &quot;步行指示&quot;,
                            orientation   : &quot;进入道路方向&quot;,
                            road_name   : &quot;分段道路名称&quot;,
                            step_distance  : &quot;分段距离信息&quot;,
                        },

                    }
                ]
            }
        ],
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">list</td>
<td style="text-align: left;">Array</td>
<td>获取到的盲盒列表，数组格式，以兼容后续可能得到多个盲盒的情况</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">int</td>
<td>盲盒的唯一ID</td>
</tr>
<tr>
<td style="text-align: left;">indexid</td>
<td style="text-align: left;">int</td>
<td>不同类型盲盒的顺序ID</td>
</tr>
<tr>
<td style="text-align: left;">logo</td>
<td style="text-align: left;">string</td>
<td>盲盒所属分类的图标</td>
</tr>
<tr>
<td style="text-align: left;">pic</td>
<td style="text-align: left;">string</td>
<td>盲盒的显示用图片</td>
</tr>
<tr>
<td style="text-align: left;">title</td>
<td style="text-align: left;">string</td>
<td>盲盒的标题</td>
</tr>
<tr>
<td style="text-align: left;">realname</td>
<td style="text-align: left;">string</td>
<td>目的地的真实名称</td>
</tr>
<tr>
<td style="text-align: left;">readAddress</td>
<td style="text-align: left;">string</td>
<td>目的地的真实地址</td>
</tr>
<tr>
<td style="text-align: left;">buildName</td>
<td style="text-align: left;">string</td>
<td>到达前用于显示的位置名称</td>
</tr>
<tr>
<td style="text-align: left;">address</td>
<td style="text-align: left;">string</td>
<td>到达前用于显示的地址</td>
</tr>
<tr>
<td style="text-align: left;">detail</td>
<td style="text-align: left;">string</td>
<td>到达前用于显示的文案文字</td>
</tr>
<tr>
<td style="text-align: left;">colorlist</td>
<td style="text-align: left;">Array</td>
<td>显示时文字时需要使用的颜色RGB色值</td>
</tr>
<tr>
<td style="text-align: left;">textcolor</td>
<td style="text-align: left;">string</td>
<td>文案的文字颜色，格式 (0,255,123,1)</td>
</tr>
<tr>
<td style="text-align: left;">bgcolor</td>
<td style="text-align: left;">string</td>
<td>文案的背景颜色，格式 (0,255,123,1)</td>
</tr>
<tr>
<td style="text-align: left;">varcolor</td>
<td style="text-align: left;">string</td>
<td>文案中动态文字的颜色，格式 (0,255,123,1)</td>
</tr>
<tr>
<td style="text-align: left;">arrivedtext</td>
<td style="text-align: left;">string</td>
<td>含中固定变量名SJTL1...的文案内容</td>
</tr>
<tr>
<td style="text-align: left;">arrivedvarlist</td>
<td style="text-align: left;">Array</td>
<td>动态文字的内容</td>
</tr>
<tr>
<td style="text-align: left;">beinpoint</td>
<td style="text-align: left;">int</td>
<td>开启行程得到的幸运值</td>
</tr>
<tr>
<td style="text-align: left;">commentpoint</td>
<td style="text-align: left;">int</td>
<td>参与评价得到的幸运值</td>
</tr>
<tr>
<td style="text-align: left;">gotnum</td>
<td style="text-align: left;">string</td>
<td>来过人数</td>
</tr>
<tr>
<td style="text-align: left;">gotavatarlist</td>
<td style="text-align: left;">Array</td>
<td>已来过的人头像列表，最多5个</td>
</tr>
<tr>
<td style="text-align: left;">point</td>
<td style="text-align: left;">string</td>
<td>评分</td>
</tr>
<tr>
<td style="text-align: left;">lnglat</td>
<td style="text-align: left;">Array</td>
<td>真实坐标,高德坐标系</td>
</tr>
<tr>
<td style="text-align: left;">lng</td>
<td style="text-align: left;">string</td>
<td>位置经度</td>
</tr>
<tr>
<td style="text-align: left;">lat</td>
<td style="text-align: left;">string</td>
<td>位置纬度</td>
</tr>
<tr>
<td style="text-align: left;">expiretime</td>
<td style="text-align: left;">int</td>
<td>盲盒有效时间，10位时间戳</td>
</tr>
<tr>
<td style="text-align: left;">navigationlist</td>
<td style="text-align: left;">Array</td>
<td>导航方案详情</td>
</tr>
<tr>
<td style="text-align: left;">distance</td>
<td style="text-align: left;">string</td>
<td>方案距离，单位：米</td>
</tr>
<tr>
<td style="text-align: left;">steps</td>
<td style="text-align: left;">Array</td>
<td>导航路径描述列表</td>
</tr>
<tr>
<td style="text-align: left;">instruction</td>
<td style="text-align: left;">string</td>
<td>步行指示</td>
</tr>
<tr>
<td style="text-align: left;">orientation</td>
<td style="text-align: left;">string</td>
<td>进入道路方向</td>
</tr>
<tr>
<td style="text-align: left;">road_name</td>
<td style="text-align: left;">string</td>
<td>分段道路名称</td>
</tr>
<tr>
<td style="text-align: left;">step_distance</td>
<td style="text-align: left;">string</td>
<td>分段距离信息</td>
</tr>
<tr>
<td style="text-align: left;">items</td>
<td style="text-align: left;">Array</td>
<td>盲盒中需要显示的文字信息数组</td>
</tr>
<tr>
<td style="text-align: left;">item</td>
<td style="text-align: left;">string</td>
<td>列表左侧文字</td>
</tr>
<tr>
<td style="text-align: left;">value</td>
<td style="text-align: left;">string</td>
<td>列表右侧文字</td>
</tr>
<tr>
<td style="text-align: left;">type</td>
<td style="text-align: left;">string</td>
<td>列表要显示的项目，用于方便前端显示对应的图标，暂定4种类型：1距离，2人均消费，3新秘感，4新鲜感</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>根据用户标签和提交变量，计算出最适合的盲盒行程；</li>
</ol></div><h3>2.3.5、盲盒启程(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>开始一个盲盒</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Box/startBox</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>盲盒ID</td>
</tr>
<tr>
<td style="text-align: left;">indexid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>选中要开启的第几个盲盒的顺序，当前可选值为 1主食，2玩，3饮品小吃</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>2.3.6、盲盒到达(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>标识一个盲盒已经到达</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Box/arrivedBox</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>盲盒ID</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>2.3.7、盲盒到达评价完成(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>标识一个盲盒已经完成</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Box/finishBox</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>盲盒ID</td>
</tr>
<tr>
<td style="text-align: left;">islike</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>喜欢1，不喜欢2</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>2.3.8、中止盲盒(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>标识一个盲盒不再进行</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Box/cancelBox</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>盲盒ID</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>2.3.9、评价盲盒(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>评价盲盒，满意或不满意</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Box/enjoyBox</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>盲盒ID</td>
</tr>
<tr>
<td style="text-align: left;">content</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">int</td>
<td>当不满意时，此值为不满意的具体原因文字，如果多个，以竖线<code>&#124;</code>符号分隔</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>2.3.10、获取盲盒详情(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>根据盲盒ID，获取盲盒详细信息</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Box/getBoxDetail</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>盲盒ID</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        list : [
            {
                boxid : 1,
                logo : &quot;http://b.png&quot;,
                pic : &quot;http://a.png&quot;,//背景图片
                typename : &quot;类型名称&quot;,
                indexid : &quot;类型ID&quot;, //1主食2玩3小吃
                typelogo : &quot;http://a.png&quot;,//类型图标
                title : &quot;盲盒标题&quot;,
                realname : &quot;目的地的真实名称&quot;,
                readAddress : &quot;目的地的真实地址&quot;
                buildName : &quot;到达前用于显示的位置名称&quot;
                address : &quot;到达前用于显示的地址&quot;,
                detail : &quot;到达前用于显示的文案文字&quot;,
                colorlist : {
                    textcolor : &quot;(255,123,111,0.8)&quot;,
                    bgcolor : &quot;(255,123,111,0.8)&quot;,
                    varcolor : &quot;(255,123,111,0.8)&quot;,
                }
                arrivedtext : &quot;此时的你，已经来到...，小盒为{{SJTL1}}的你推荐{{SJTL2}}{{SJTL3}}，相信可以{{SJTL4}}。&quot;,
                arrivedvarlist : [
                    &quot;失落&quot;,
                    &quot;一大盆馒头&quot;,
                    &quot;----粤菜&quot;,
                    &quot;让你吃的很饱&quot;,
                ],
                beinpoint : &quot;开启行程可得到的幸运值&quot;,
                commentpoint : &quot;参与评价可得到的幸运值&quot;,
                sharepoint : &quot;分享可得到的幸运值&quot;,
                items :[
                    {
                        item: &quot;左侧文字&quot;,
                        value : &quot;右侧内容&quot;,
                        type: 1/2/3/4
                    }
                ],
                gotnum : &quot;来过人数&quot;,
                gotlist : [ //最多显示5个
                    &quot;http://a.png&quot;,&quot;http://b.png&quot;,
                ]
                point : &quot;评分,&quot;
                lnglat : {
                    lng : &quot;位置经度&quot;,
                    lat : &quot;位置纬度&quot;
                },
                expiretime : 过期时间
                navigationlist : {
                    distance  : &quot;方案距离，单位：米&quot;,
                },
                status : 0~6,
                starttime : 开启时间
                islike : 0/1/2, //进行中的盲盒的满意状态，0未选，1满意，2不满意
                mycommentlist : [
                    &quot;很好玩&quot;,&quot;体验太好了&quot;,&quot;我自己写的字&quot;
                ],
                isgotgift : 0/1,//是否已领取了该盲盒赠送的卡券
            }
        ],
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">list</td>
<td style="text-align: left;">Array</td>
<td>获取到的盲盒列表，数组格式，以兼容后续可能得到多个盲盒的情况</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">int</td>
<td>盲盒的唯一ID</td>
</tr>
<tr>
<td style="text-align: left;">logo</td>
<td style="text-align: left;">string</td>
<td>盲盒所属分类的图标</td>
</tr>
<tr>
<td style="text-align: left;">pic</td>
<td style="text-align: left;">string</td>
<td>盲盒的显示用图片</td>
</tr>
<tr>
<td style="text-align: left;">title</td>
<td style="text-align: left;">string</td>
<td>盲盒的标题</td>
</tr>
<tr>
<td style="text-align: left;">realname</td>
<td style="text-align: left;">string</td>
<td>目的地的真实名称</td>
</tr>
<tr>
<td style="text-align: left;">readAddress</td>
<td style="text-align: left;">string</td>
<td>目的地的真实地址</td>
</tr>
<tr>
<td style="text-align: left;">buildName</td>
<td style="text-align: left;">string</td>
<td>到达前用于显示的位置名称</td>
</tr>
<tr>
<td style="text-align: left;">address</td>
<td style="text-align: left;">string</td>
<td>到达前用于显示的地址</td>
</tr>
<tr>
<td style="text-align: left;">detail</td>
<td style="text-align: left;">string</td>
<td>到达前用于显示的文案文字</td>
</tr>
<tr>
<td style="text-align: left;">colorlist</td>
<td style="text-align: left;">Array</td>
<td>显示时文字时需要使用的颜色RGB色值</td>
</tr>
<tr>
<td style="text-align: left;">textcolor</td>
<td style="text-align: left;">string</td>
<td>文案的文字颜色，格式 (0,255,123,1)</td>
</tr>
<tr>
<td style="text-align: left;">bgcolor</td>
<td style="text-align: left;">string</td>
<td>文案的背景颜色，格式 (0,255,123,1)</td>
</tr>
<tr>
<td style="text-align: left;">varcolor</td>
<td style="text-align: left;">string</td>
<td>文案中动态文字的颜色，格式 (0,255,123,1)</td>
</tr>
<tr>
<td style="text-align: left;">arrivedtext</td>
<td style="text-align: left;">string</td>
<td>含中固定变量名SJTL1...的文案内容</td>
</tr>
<tr>
<td style="text-align: left;">arrivedvarlist</td>
<td style="text-align: left;">Array</td>
<td>动态文字的内容</td>
</tr>
<tr>
<td style="text-align: left;">beinpoint</td>
<td style="text-align: left;">int</td>
<td>开启行程得到的幸运值</td>
</tr>
<tr>
<td style="text-align: left;">commentpoint</td>
<td style="text-align: left;">int</td>
<td>参与评价得到的幸运值</td>
</tr>
<tr>
<td style="text-align: left;">gotnum</td>
<td style="text-align: left;">string</td>
<td>来过人数</td>
</tr>
<tr>
<td style="text-align: left;">gotavatarlist</td>
<td style="text-align: left;">Array</td>
<td>已来过的人头像列表，最多5个</td>
</tr>
<tr>
<td style="text-align: left;">point</td>
<td style="text-align: left;">string</td>
<td>评分</td>
</tr>
<tr>
<td style="text-align: left;">lnglat</td>
<td style="text-align: left;">Array</td>
<td>真实坐标,高德坐标系</td>
</tr>
<tr>
<td style="text-align: left;">lng</td>
<td style="text-align: left;">string</td>
<td>位置经度</td>
</tr>
<tr>
<td style="text-align: left;">lat</td>
<td style="text-align: left;">string</td>
<td>位置纬度</td>
</tr>
<tr>
<td style="text-align: left;">expiretime</td>
<td style="text-align: left;">int</td>
<td>盲盒有效时间，10位时间戳</td>
</tr>
<tr>
<td style="text-align: left;">navigationlist</td>
<td style="text-align: left;">Array</td>
<td>导航方案详情</td>
</tr>
<tr>
<td style="text-align: left;">distance</td>
<td style="text-align: left;">string</td>
<td>方案距离，单位：米</td>
</tr>
<tr>
<td style="text-align: left;">instruction</td>
<td style="text-align: left;">string</td>
<td>步行指示</td>
</tr>
<tr>
<td style="text-align: left;">orientation</td>
<td style="text-align: left;">string</td>
<td>进入道路方向</td>
</tr>
<tr>
<td style="text-align: left;">road_name</td>
<td style="text-align: left;">string</td>
<td>分段道路名称</td>
</tr>
<tr>
<td style="text-align: left;">step_distance</td>
<td style="text-align: left;">string</td>
<td>分段距离信息</td>
</tr>
<tr>
<td style="text-align: left;">items</td>
<td style="text-align: left;">Array</td>
<td>盲盒中需要显示的文字信息数组</td>
</tr>
<tr>
<td style="text-align: left;">item</td>
<td style="text-align: left;">string</td>
<td>列表左侧文字</td>
</tr>
<tr>
<td style="text-align: left;">value</td>
<td style="text-align: left;">string</td>
<td>列表右侧文字</td>
</tr>
<tr>
<td style="text-align: left;">type</td>
<td style="text-align: left;">string</td>
<td>列表要显示的项目，用于方便前端显示对应的图标，暂定4种类型：1距离，2人均消费，3新秘感，4新鲜感</td>
</tr>
<tr>
<td style="text-align: left;">isgotgift</td>
<td style="text-align: left;">int</td>
<td>是否已领取了该盲盒赠送的卡券，0未领取，1已领取</td>
</tr>
</tbody>
</table>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">值</th>
<th>盲盒状态</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">0</td>
<td>待开启</td>
</tr>
<tr>
<td style="text-align: left;">1</td>
<td>已开启，进行中，未到达</td>
</tr>
<tr>
<td style="text-align: left;">2</td>
<td>已到达，未评价</td>
</tr>
<tr>
<td style="text-align: left;">3</td>
<td>已评价，已完成</td>
</tr>
<tr>
<td style="text-align: left;">4</td>
<td>已过期失效</td>
</tr>
<tr>
<td style="text-align: left;">5</td>
<td>已主动丢弃</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>根据用户标签和提交变量，计算出最适合的盲盒行程；</li>
</ol></div></div><h2>2.4、社区</h2><div style="margin-left:20px;"></div><h2>2.5、第三方</h2><div style="margin-left:20px;"></div><h2>2.6、小程序</h2><div style="margin-left:20px;"><h3>2.6.1、通过小程序授权获取通信token(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取数据传输必传token参数
所有其他接口在被调用时，均需要传入token参数，此接口为小程序页面内获取token的唯一获取接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/System/getMiniToken</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code> </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>wx.login() 返回的code参数</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
      &quot;token&quot;: &quot;ACCESS_TOKEN &quot;,
      &quot;openid&quot;: &quot;122221222222&quot;,
      &quot;isnew&quot; : 0/1,
      &quot;shareid&quot; : 123,
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">string</td>
<td>如果该用户已经做过手机号授权，则此值有返回，否则，此值为空</td>
</tr>
<tr>
<td style="text-align: left;">openid</td>
<td style="text-align: left;">string</td>
<td>该用户的openid,用于手机授权时提交</td>
</tr>
<tr>
<td style="text-align: left;">isnew</td>
<td style="text-align: left;">int</td>
<td>0/1，是否新用户，1是新用户，0是老用户；如果是新用户，则客户端应弹出资料完善相关的标签表单等流程</td>
</tr>
<tr>
<td style="text-align: left;">shareid</td>
<td style="text-align: left;">int</td>
<td>当小程序发生分享动作时，此将此ID携带分享出去，用于记录分享轨迹</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>前端调用者，在取得token之后，应在本地进行存储，供之后的其他接口调用。</li>
<li>token的有效期由服务端控制，首次获得到一定时间内有效，每次使用后该时间都会被刷新，长时间不使用超过所设定的时间段时，token失效，前端应重新获取。具体由错误值定义表定义。</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>使用Redis生成和存取Token；</li>
<li>记录客户端请求数据日志，按客户端类型/来源IP/时间进行存储，用于之后的数据统计；</li>
<li>返回有效Token;</li>
</ol></div><h3>2.6.2、小程序-提交头像昵称</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>小程序授权完成并获取到昵称头像之后，向服务端提交昵称和头像完成数据记录</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/Api/User/submitNickName</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td></td>
</tr>
<tr>
<td style="text-align: left;">nickname</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>昵称</td>
</tr>
<tr>
<td style="text-align: left;">headimg</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>头像地址</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p></div><h3>2.6.3、注册/登录-通过小程序授权(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>小程序授权完成并获取到手机号码后，向服务端提交用户注册登录</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/Api/User/submitActiveByPhone</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">openid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>使用code换取得到的用户的openid</td>
</tr>
<tr>
<td style="text-align: left;">encryptedData</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>微信接口获得的数据</td>
</tr>
<tr>
<td style="text-align: left;">iv</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>微信接口获得的数据</td>
</tr>
<tr>
<td style="text-align: left;">shareid</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>前位分享者所带出的分享ID</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        token : &quot;token_str&quot;,
        isnew : 1,
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">string</td>
<td>已手机授权用户的身份标识</td>
</tr>
<tr>
<td style="text-align: left;">isnew</td>
<td style="text-align: left;">int</td>
<td>0/1，是否新用户，1是新用户，0是老用户；如果是新用户，则客户端应弹出资料完善相关的标签表单等流程</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p></div></div></div><h1>3、客户端接口V2-地图模式</h1><div style="margin-left:0px;"><h2>3.1、客户端接口统一规范</h2><div style="margin-left:0px;"><h5>简要描述</h5>
<ul>
<li>此部分定义客户端的接口定义规范</li>
</ul>
<h5>说明</h5>
<ul>
<li>考虑到前端接口与后台接口虽然都采用前后分离的模式进行设计，但是在部署上有可能会采用分布式的方式进行部署，所以前端接口与后台接口分别进行设计和实现，即使功能上有部分重合，也分别进行实现。</li>
</ul>
<h5>token安全验证机制</h5>
<ul>
<li>所有的接口通讯都必须通过token验证，关于token参数的传递，考虑不同客户端的实现便利，接口端兼容http头和数据体两种方式的token验证，或者将token信息组装到http头信息中进行提交，或者将token作为参数体中提交均可。</li>
</ul>
<h5>接口规范</h5>
<ul>
<li>客户端的所有接口，均使用POST方式调用。</li>
</ul>
<h5>备注</h5>
<p>生产环境前缀地址：  <a href="https://api.sjtuanliu.com/dev/V2/">https://api.sjtuanliu.com/dev/V2/</a>
如：<a href="https://api.sjtuanliu.com/dev/V2/Api/User/loginBySMSCode">https://api.sjtuanliu.com/dev/V2/Api/User/loginBySMSCode</a></p>
<p>开发测试环境前缀地址：  <a href="https://api.sjtuanliu.com/dist/V2/">https://api.sjtuanliu.com/dist/V2/</a>
如：<a href="https://api.sjtuanliu.com/dist/V2/Api/User/loginBySMSCode">https://api.sjtuanliu.com/dist/V2/Api/User/loginBySMSCode</a></p>
<ul>
<li>
</li>
</ul></div><h2>3.1、公共类</h2><div style="margin-left:20px;"><h3>3.1.1、获取通信token(废弃)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>前端APP打开时，获取数据传输必传token参数
所有其他接口在被调用时，均需要传入token参数，此接口为token的唯一获取接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/System/getToken</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">AppID</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>调用者的类型，枚举数据，共以下几种类型<br>H5：微信端H5前端网页<br>Wap：手机浏览器WAP端前端网页<br>Web：普通Web网站页面<br> Mini：微信小程序<br>IOS：IOS端app<br>Android：Android端app</td>
</tr>
<tr>
<td style="text-align: left;">Secret</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>系统分配的密码</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
      &quot;token&quot;: &quot;ACCESS_TOKEN &quot;,
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">string</td>
<td>所获取到的token，之后的所有接口均需要使用</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>前端调用者，在取得token之后，应在本地进行存储，供之后的其他接口调用。</li>
<li>token的有效期由服务端控制，首次获得到一定时间内有效，每次使用后该时间都会被刷新，长时间不使用超过所设定的时间段时，token失效，前端应重新获取。具体由错误值定义表定义。</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>使用Redis生成和存取Token；</li>
<li>记录客户端请求数据日志，按客户端类型/来源IP/时间进行存储，用于之后的数据统计；</li>
<li>返回有效Token;</li>
</ol></div><h3>3.1.2、获取短信验证码(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取短信验证码</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/System/getSMSCode</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">phone</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>手机号</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>此接口参数暂定，可能会因为安全原因引入其他人机验证步骤，增加安全验证参数。</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>判断安全性(根据后续的安全参数)；</li>
<li>调用第三方接口完成短信发送;</li>
</ol></div><h3>3.1.3、获取客户端初始化信息(已完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取客户端初始化信息</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/System/getInitData</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">uuid</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>客户端的唯一标识</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        versions : {
            ios : {
                newest : "1.0.4",
                url : "https://apps.apple.com/cn/app/notability/ixxxx",
                force : 0/1
            },
            ios : {
                newest : "1.0.4",
                url : "https://a.apk",
                force : 0/1
            }
        },
        launchinfo : {
            image : "http://abc.jpg",
            url : "http://www.baidu.com"
        }
        indexshow : {
            type : 1/2,  1显示现有的ugc功能，2显示webview，内容为下边url的地址
            url : "http://www.baidu.com/a.html"
        }
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">versions</td>
<td style="text-align: left;">Array</td>
<td>版本相关内容</td>
</tr>
<tr>
<td style="text-align: left;">newest</td>
<td style="text-align: left;">string</td>
<td>当前最新版本版本号</td>
</tr>
<tr>
<td style="text-align: left;">url</td>
<td style="text-align: left;">string</td>
<td>安装下载地址(android适用)</td>
</tr>
<tr>
<td style="text-align: left;">force</td>
<td style="text-align: left;">int</td>
<td>是否强制必须更新才能使用 1是，0不更新也可使用</td>
</tr>
<tr>
<td style="text-align: left;">launchinfo</td>
<td style="text-align: left;">Array</td>
<td>运行相关内容</td>
</tr>
<tr>
<td style="text-align: left;">image</td>
<td style="text-align: left;">string</td>
<td>app启动页图片，更新后用于下次启动时，如果为空则不需更新</td>
</tr>
<tr>
<td style="text-align: left;">url</td>
<td style="text-align: left;">string</td>
<td>点击要跳转的目标地址，如果为空则不跳转</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.1.4、上传文件(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>上传文件</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/System/uploadFile</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">file</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">file</td>
<td>要上传的文件</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        url : &quot;http://a.png&quot;
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>判断安全性(根据后续的安全参数)；</li>
</ol></div><h3>3.1.5、获取隐私协议(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取隐私协议</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/System/getPivacyPolicy</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        content : &quot;隐私协议html富文本&quot;
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>判断安全性(根据后续的安全参数)；</li>
<li>调用第三方接口完成短信发送;</li>
</ol></div><h3>3.1.6、获取短信验证码-带安全验证(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取短信验证码，此接口增加安全验证用于替换原有直接发送验证码接口。</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/System/getSafeSMSCode</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">phone</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>手机号</td>
</tr>
<tr>
<td style="text-align: left;">ticket</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>从行为验证接口得到的ticket</td>
</tr>
<tr>
<td style="text-align: left;">randstr</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>从行为验证接口得到的随机字符串</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>判断安全性(根据后续的安全参数)；</li>
<li>调用第三方接口完成短信发送;</li>
</ol></div><h3>3.1.7、获取服务协议(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取服务协议</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/System/getServicePolicy</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        content : "服务协议html富文本"
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>判断安全性(根据后续的安全参数)；</li>
<li>调用第三方接口完成短信发送;</li>
</ol></div><h3>3.1.8、上传多个文件(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>上传多个文件</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/System/uploadMultFile</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">file[]</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">file</td>
<td>要上传的文件1</td>
</tr>
<tr>
<td style="text-align: left;">file[]</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">file</td>
<td>要上传的文件2</td>
</tr>
<tr>
<td style="text-align: left;">file[]</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">file</td>
<td>....</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        urllist : [
            "http://a.png",
            "http://b.png",
            ...
        ]
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>判断安全性(根据后续的安全参数)；</li>
</ol></div></div><h2>3.2、用户</h2><div style="margin-left:20px;"><h3>3.2.1、注册/登录-通过一键登录(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>用户使用第三方一键登录完成注册/登录</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/loginByMob</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>第三方平台的loginToken信息</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        isnew : 1,
        token : &quot;token&quot;
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">isnew</td>
<td style="text-align: left;">int</td>
<td>0/1，是否新用户，1是新用户，0是老用户；如果是新用户，则客户端应弹出资料完善相关的标签表单等流程</td>
</tr>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">string</td>
<td>用户登录得到的token</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>使用code调用一键登录，得到用户手机号；</li>
<li>判断用户手机号是否已存在;</li>
<li>完成注册或登录逻辑；</li>
<li>检查用户是否完成新用户资料完善过程；</li>
</ol></div><h3>3.2.2、注册/登录-通过手机号认证(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>在一键登录无法使用情，用户使用第三方号码认证完成注册/登录</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/loginByToken</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">phone</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>用户手机号</td>
</tr>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>第三方平台的token信息</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        isnew : 1,
        token: &quot;token&quot;
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">isnew</td>
<td style="text-align: left;">int</td>
<td>0/1，是否新用户，1是新用户，0是老用户；如果是新用户，则客户端应弹出资料完善相关的标签表单等流程</td>
</tr>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">string</td>
<td>用户登录得到的token</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>使用code调用一键登录，得到用户手机号；</li>
<li>判断用户手机号是否已存在;</li>
<li>完成注册或登录逻辑；</li>
<li>检查用户是否完成新用户资料完善过程；</li>
</ol></div><h3>3.2.3、注册/登录-通过短信验证码(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>用户使用短信验证码完成登录/注册(如果手机号已存在，则为登录；否则自动注册新用户然后登录)</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/loginBySMSCode</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">phone</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>用户手机号</td>
</tr>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>短信验证码</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        isnew : 1,
        token:&quot;token&quot;
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">isnew</td>
<td style="text-align: left;">int</td>
<td>0/1，是否新用户，1是新用户，0是老用户；如果是新用户，则客户端应弹出资料完善相关的标签表单等流程</td>
</tr>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">string</td>
<td>用户登录得到的token</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>判断验证码，过期当前验证码；</li>
<li>判断用户手机号是否已存在;</li>
<li>完成注册或登录逻辑；</li>
<li>检查用户是否完成新用户资料完善过程；</li>
</ol></div><h3>3.2.4、提交新用户基本信息(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>新用户注册后，需要填写基本表单信息，此接口用于客户端提交用户所填写的表单内容</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/submitNewUserBaseData</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>姓名</td>
</tr>
<tr>
<td style="text-align: left;">age</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>年龄</td>
</tr>
<tr>
<td style="text-align: left;">sex</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>1男生，0女生</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>更新新用户资料；</li>
</ol></div><h3>3.2.5、获取新用户表单问题(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>新用户注册后，需要填写部分表单信息，此接口用户客户端获取表单内容</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/getNewUserFormData</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
                "queslist":[
                    {
                        "id" : 44,
                        "title" : "你喜欢跑步的程度",
                        "itemlist":[
                            {
                                "itemid":22,
                                "itemname":"打死也不去",
                            },
                            {
                                "itemid":23,
                                "itemname":"偶尔跑跑",
                            },
                            {
                                "itemid":28,
                                "itemname":"不跑活不下去",
                            }
                        ],
                        "answer" : "4",//曾经选中的答案itemid
                    },
                    {
                        "id" : 55,
                        "title" : "新奇程度",
                        "itemlist":[
                            {
                                "itemid":22,
                                "itemname":"好奇宝宝",
                            },
                            {
                                "itemid":23,
                                "itemname":"不好奇",
                            },
                            {
                                "itemid":28,
                                "itemname":"害死猫",
                            }
                        ],
                        "answer" : "4",//曾经选中的答案itemid
                    },
                ]
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">queslist</td>
<td style="text-align: left;">Array</td>
<td>问答页中的问题列表</td>
</tr>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">int</td>
<td>问题的唯一ID</td>
</tr>
<tr>
<td style="text-align: left;">title</td>
<td style="text-align: left;">string</td>
<td>问题的标题文字</td>
</tr>
<tr>
<td style="text-align: left;">itemlist</td>
<td style="text-align: left;">Array</td>
<td>则此值为可选择的范围列表</td>
</tr>
<tr>
<td style="text-align: left;">itemid</td>
<td style="text-align: left;">int</td>
<td>可选项的唯一ID</td>
</tr>
<tr>
<td style="text-align: left;">itemname</td>
<td style="text-align: left;">string</td>
<td>可选项的文字内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>暂定每个问题都必答</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>返回新用户需要填写的表单数据结构内容；</li>
</ol></div><h3>3.2.6、提交新用户表单问题(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>新用户注册后，需要填写部分表单信息，此接口用于客户端提交用户所填写的表单内容</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/submitNewUserFormData</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">jsonstr</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">Array</td>
<td>题目和答案所构造的JSON格式字符串，具体格式和示例如下：</td>
</tr>
</tbody>
</table>
<table width='100%' class='codestyle'><pre><code>[
    {
        quesid:1,//题目ID
        ans:&quot;4&quot;,//范围题所选定的项的ID
    },
]</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        &quot;list&quot; : [
            {
                &quot;title&quot; : &quot;系统赠送的券或其他的标题文字&quot;,
                &quot;num&quot; : 2,
            }
        ],
        &quot;memo&quot; : &quot;其他的文字说明&quot;,
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">list</td>
<td style="text-align: left;">Array</td>
<td>完善资料后，系统赠送的券或其他的礼品</td>
</tr>
<tr>
<td style="text-align: left;">title</td>
<td style="text-align: left;">string</td>
<td>标题文字</td>
</tr>
<tr>
<td style="text-align: left;">num</td>
<td style="text-align: left;">int</td>
<td>数量</td>
</tr>
<tr>
<td style="text-align: left;">memo</td>
<td style="text-align: left;">string</td>
<td>页面所需要显示的其他提示性文字</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>更新新用户资料；</li>
<li>根据系统规则赠送相应礼品包；</li>
</ol></div><h3>3.2.7、获取我的信息(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>点击会员中心页，显示所需的各项信息的集合</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/getMyDataList</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        memberinfo:{
            nickname : "用户名",
            avatar : "http://a.png",
            nowlevel : "V3",
            levelpoint : 100,
            nextlevel : "V4",
            nextlevelpoint : 500
            nowpoint : 350,
        },
        mybeingboxlist : {
                beingbox : 0/1,
                boxid : 1,
                status : 0~5,
        }
        myboxnum : 9,
        mypropsnum : 3,
        servicewechat : "客服微信号",
        myachievelist : [
            {
                achieveid : 3
                title : "成就名称",
                pic : "http://a.png",
                lightpic : "http://b.png",
                islight : 0/1,
                getdate : "2021-10-25"
            }
        ],
        last7days : {
            boxnumber : 最近7天开盒总数量
            catelist : [
                {
                    cateid : 分类id
                    catename : 分类名称
                    number : 开盒数量
                }
            ]
        }
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">memberinfo</td>
<td style="text-align: left;">Array</td>
<td>会员相关信息</td>
</tr>
<tr>
<td style="text-align: left;">nickname</td>
<td style="text-align: left;">string</td>
<td>用户昵称或用户名</td>
</tr>
<tr>
<td style="text-align: left;">avatar</td>
<td style="text-align: left;">string</td>
<td>用户头像地址</td>
</tr>
<tr>
<td style="text-align: left;">level</td>
<td style="text-align: left;">string</td>
<td>当前所在等级名称</td>
</tr>
<tr>
<td style="text-align: left;">nextlevel</td>
<td style="text-align: left;">string</td>
<td>下一级的等级名称</td>
</tr>
<tr>
<td style="text-align: left;">nextpoint</td>
<td style="text-align: left;">string</td>
<td>到下一级所需的点数</td>
</tr>
<tr>
<td style="text-align: left;">levelprogress</td>
<td style="text-align: left;">string</td>
<td>当前等级进度百分比</td>
</tr>
<tr>
<td style="text-align: left;">mybeingboxlist</td>
<td style="text-align: left;">Array</td>
<td>进行中的盲盒信息</td>
</tr>
<tr>
<td style="text-align: left;">beingbox</td>
<td style="text-align: left;">int</td>
<td>是否有进行中的盲盒，0没有，1有</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">int</td>
<td>如果有进行中的盲盒，此值为盲盒ID</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">int</td>
<td>如果有进行中的盲盒，此值为盲盒的当前状态</td>
</tr>
<tr>
<td style="text-align: left;">myboxnum</td>
<td style="text-align: left;">int</td>
<td>我的盲盒数量</td>
</tr>
<tr>
<td style="text-align: left;">mypropsnum</td>
<td style="text-align: left;">int</td>
<td>我的道具数量</td>
</tr>
<tr>
<td style="text-align: left;">myachievelist</td>
<td style="text-align: left;">Array</td>
<td>成就列表</td>
</tr>
<tr>
<td style="text-align: left;">achieveid</td>
<td style="text-align: left;">int</td>
<td>成就ID</td>
</tr>
<tr>
<td style="text-align: left;">title</td>
<td style="text-align: left;">string</td>
<td>成就名称</td>
</tr>
<tr>
<td style="text-align: left;">pic</td>
<td style="text-align: left;">string</td>
<td>成就未点亮时的图标</td>
</tr>
<tr>
<td style="text-align: left;">lightpic</td>
<td style="text-align: left;">string</td>
<td>成就点亮后的图标</td>
</tr>
<tr>
<td style="text-align: left;">islight</td>
<td style="text-align: left;">int</td>
<td>成就是否已点亮，1是，0未</td>
</tr>
<tr>
<td style="text-align: left;">getdate</td>
<td style="text-align: left;">string</td>
<td>获得日期，未获得则为空</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.2.8、获取我的盲盒列表(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取我的盲盒列表</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/getMyBoxList</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的状态，不输入则为全部，如果查询多个状态，则多个状态之间使用竖线分隔</td>
</tr>
<tr>
<td style="text-align: left;">page</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的页数，不输入则为第一页</td>
</tr>
<tr>
<td style="text-align: left;">limit</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的每页数量，不输入固定为10个每页</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        myboxticketnum : 30,
        boxraisenum : 88,
        &quot;list&quot;: [
        {
            &quot;boxid&quot; : 123,
            &quot;title&quot; : &quot;盲盒标题&quot;,
            &quot;time&quot; : &quot;2021-09-09 12:12:12&quot;,
            &quot;subtitle&quot; : &quot;位置文字&quot;,
            &quot;status&quot;  : 0~5
        }
      ],
      &quot;totalnum&quot;:333,
      &quot;totalpage&quot;:22,
      &quot;currpage&quot;:1,
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">myboxticketnum</td>
<td style="text-align: left;">int</td>
<td>我可开的盲盒数量</td>
</tr>
<tr>
<td style="text-align: left;">boxraisenum</td>
<td style="text-align: left;">int</td>
<td>盲盒满意度，百分比中的整数部分</td>
</tr>
<tr>
<td style="text-align: left;">list</td>
<td style="text-align: left;">Array</td>
<td>我的盲盒列表</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">int</td>
<td>盲盒的唯一ID</td>
</tr>
<tr>
<td style="text-align: left;">title</td>
<td style="text-align: left;">string</td>
<td>盲盒标题</td>
</tr>
<tr>
<td style="text-align: left;">time</td>
<td style="text-align: left;">string</td>
<td>盲盒开盒时间，格式 YYYYY-MM-DD HH:II:SS</td>
</tr>
<tr>
<td style="text-align: left;">subtitle</td>
<td style="text-align: left;">string</td>
<td>盲盒位置文字</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">string</td>
<td>盲盒状态</td>
</tr>
<tr>
<td style="text-align: left;">totalnum</td>
<td style="text-align: left;">string</td>
<td>总数量</td>
</tr>
<tr>
<td style="text-align: left;">totalpage</td>
<td style="text-align: left;">string</td>
<td>总页数</td>
</tr>
<tr>
<td style="text-align: left;">currpage</td>
<td style="text-align: left;">string</td>
<td>当前页数</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.2.9、退出登录(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>客户端退出登录</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/logout</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>登录得到的token</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>使用code调用一键登录，得到用户手机号；</li>
<li>判断用户手机号是否已存在;</li>
<li>完成注册或登录逻辑；</li>
<li>检查用户是否完成新用户资料完善过程；</li>
</ol></div><h3>3.2.10、获取用户资料信息(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>个人中心页获取资料信息</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/getUserProfile</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
            headimg : "http://a.png",
            nickname : "恐龙",
            mob : "13987654321",
            age : "22",
            sex : 0/1,
            notifystatus : 0/1,
            taglist : [
                {
                    tagid : 22,
                    tagname : "大美女"
                }
            ],
            servicewechat : "客服微信号",
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">headimg</td>
<td style="text-align: left;">String</td>
<td>头像</td>
</tr>
<tr>
<td style="text-align: left;">nickname</td>
<td style="text-align: left;">String</td>
<td>昵称</td>
</tr>
<tr>
<td style="text-align: left;">mob</td>
<td style="text-align: left;">String</td>
<td>手机号</td>
</tr>
<tr>
<td style="text-align: left;">age</td>
<td style="text-align: left;">String</td>
<td>年龄</td>
</tr>
<tr>
<td style="text-align: left;">sex</td>
<td style="text-align: left;">String</td>
<td>性别，0女生，1男生</td>
</tr>
<tr>
<td style="text-align: left;">notifystatus</td>
<td style="text-align: left;">String</td>
<td>推送通知状态，0关闭，1打开</td>
</tr>
<tr>
<td style="text-align: left;">taglist</td>
<td style="text-align: left;">Array</td>
<td>用户已拥有的标签</td>
</tr>
<tr>
<td style="text-align: left;">tagid</td>
<td style="text-align: left;">int</td>
<td>标签的ID</td>
</tr>
<tr>
<td style="text-align: left;">tagname</td>
<td style="text-align: left;">String</td>
<td>标签的名称</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p></div><h3>3.2.11、设置用户资料信息(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>个人中心设置用户资料信息</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/setUserProfile</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">headimg</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>新的头像，不传入则不做修改</td>
</tr>
<tr>
<td style="text-align: left;">nickname</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>新的昵称，不传入则不做修改</td>
</tr>
<tr>
<td style="text-align: left;">sex</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>新的性别，不传入则不做修改</td>
</tr>
<tr>
<td style="text-align: left;">age</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>新的年龄，不传入则不做修改</td>
</tr>
<tr>
<td style="text-align: left;">notifystatus</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>新的通知开关，不传入则不做修改</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p></div><h3>3.2.12、获取用户标签信息(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>个人中心页获取用户标签信息</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/getUserTagList</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: [
            {
                id : 123,
                name : &quot;喜欢吃辣&quot;,
                ischecked : 1/0,//是否已选中
            }
        ]
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">String</td>
<td>标签ID</td>
</tr>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">String</td>
<td>标签名称</td>
</tr>
<tr>
<td style="text-align: left;">ischecked</td>
<td style="text-align: left;">String</td>
<td>该用户是否已选中</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p></div><h3>3.2.13、设置用户标签信息(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>个人中心页设置用户标签信息</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/setUserTagList</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">tagids</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">Array</td>
<td>选中的tagid的数组</td>
</tr>
</tbody>
</table>
<p><strong>tagids格式示例</strong></p>
<table width='100%' class='codestyle'><pre><code>    [1,2,3,4]</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p></div><h3>3.2.14、修改手机号码(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>用户在个人中心页修改手机号码</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/resetPhoneBySMSCode</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通讯token</td>
</tr>
<tr>
<td style="text-align: left;">phone</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>新的手机号</td>
</tr>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>短信验证码</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>判断验证码，过期当前验证码；</li>
<li>判断用户新手机号是否已存在，已被注册则提示失败</li>
<li>手机号未被使用则更新手机号；</li>
</ol></div><h3>3.2.15、查询是否有赠送道具(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>进入首页或者登录后，查询今日是否有赠送的卡卷</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/checkTodayGrocery</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: [
            {
                ishad : 0/1,//是否有赠送的卡卷，1有，0没有
                url : &quot;http://a.png&quot;,//如果有赠送的卡券需要显示，则此值为该图片的URL，否则此值为空
            }
        ]
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">ishad</td>
<td style="text-align: left;">int</td>
<td>是否有赠送的卡卷，1有，0没有</td>
</tr>
<tr>
<td style="text-align: left;">url</td>
<td style="text-align: left;">String</td>
<td>如果有赠送的卡券需要显示，则此值为该图片的URL，否则此值为空</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p></div><h3>3.2.16、获取我的道具列表(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取我的道具列表</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/getMyGroceryList</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的状态，不输入则为全部，如果查询多个状态，则多个状态之间使用竖线分隔，状态：0未使用，1已使用，2已过期</td>
</tr>
<tr>
<td style="text-align: left;">page</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的页数，不输入则为第一页</td>
</tr>
<tr>
<td style="text-align: left;">limit</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的每页数量，不输入固定为10个每页</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        &quot;list&quot;: [
        {
            &quot;id&quot; : &quot;道具ID&quot;,
            &quot;title&quot; : &quot;道具标题&quot;,
            &quot;subtitle&quot; : &quot;副标题&quot;,
            &quot;icon&quot; : &quot;http://a.png&quot;,
            &quot;time&quot; : &quot;2021-09-09&quot;,
            &quot;status&quot;  : 0/1/2
        }
      ],
      &quot;totalnum&quot;:333,
      &quot;totalpage&quot;:22,
      &quot;currpage&quot;:1,
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">list</td>
<td style="text-align: left;">Array</td>
<td>我的道具列表</td>
</tr>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">int</td>
<td>道具的唯一ID</td>
</tr>
<tr>
<td style="text-align: left;">title</td>
<td style="text-align: left;">string</td>
<td>道具标题</td>
</tr>
<tr>
<td style="text-align: left;">subtitle</td>
<td style="text-align: left;">string</td>
<td>道具副标题</td>
</tr>
<tr>
<td style="text-align: left;">time</td>
<td style="text-align: left;">string</td>
<td>有效期，格式 YYYYY-MM-DD</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">string</td>
<td>道具状态，0未使用，1已使用，2已过期</td>
</tr>
<tr>
<td style="text-align: left;">totalnum</td>
<td style="text-align: left;">string</td>
<td>总数量</td>
</tr>
<tr>
<td style="text-align: left;">totalpage</td>
<td style="text-align: left;">string</td>
<td>总页数</td>
</tr>
<tr>
<td style="text-align: left;">currpage</td>
<td style="text-align: left;">string</td>
<td>当前页数</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.2.17、领取开盒券(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>领取开盒券</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/drawGiftGrocery</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">type</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>要领取的券的类型，目前仅开盒券，固定值为1</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>触发本次赠送的boxid</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.2.18、注销用户(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>客户端发起注销，系统彻底删掉该用户所有数据</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/User/unReg</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>登录得到的token</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>删除用户的所有数据信息</li>
</ol></div></div><h2>3.3、盲盒</h2><div style="margin-left:20px;"><h3>3.3.1、获取可选盲盒类型(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>进入盲盒页面，先获取可选的所有盲盒类型</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Box/getBoxType</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: [
            {
                typeid : 1,
                pic : &quot;http://a.png&quot;,
                title : &quot;盲盒标题&quot;,
                status : 0/1
            }
        ],
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容,获取到的盲盒列表，数组格式，以兼容后续可能得到多个盲盒的情况</td>
</tr>
<tr>
<td style="text-align: left;">typeid</td>
<td style="text-align: left;">int</td>
<td>盲盒的类型ID</td>
</tr>
<tr>
<td style="text-align: left;">pic</td>
<td style="text-align: left;">string</td>
<td>盲盒类型的显示用图片</td>
</tr>
<tr>
<td style="text-align: left;">title</td>
<td style="text-align: left;">string</td>
<td>盲盒类型的标题</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">string</td>
<td>该类型盲盒的当前状态，0正常开放，1暂停，在为1状态下，客户端点击后应弹出敬请期待之类的文案提示</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.3.2、查询是否有未开启和进行中的盲盒(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>查询是否有未开启和进行中的盲盒</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Box/checkBeingBox</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        isbeing : 0/1,
        boxid : 123,
        status : 0~6,
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">isbeing</td>
<td style="text-align: left;">string</td>
<td>是否有待开启或者进行中的盲盒，0没有，1有</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">string</td>
<td>如果有，则此值为盲盒的ID</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">string</td>
<td>如果有，则此值为该盲盒的当前状态</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.3.3、获取盲盒待答问题(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>选定某盲盒类型后，查询该类型可选择的问题列表</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Box/getBoxQuesList</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">typeid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>获取盲盒类型中得到的类型ID</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        pagenum : 2,
        list : [
            {
                "id" : 13,
                "title" : "出行人数",
                "type" : "tag",
                "defaultid" : 1,
                "itemlist":[
                    {
                        "itemid":1,
                        "itemname":"自己去",
                        isdefault: 0,
                        imglistname : "imagelist1",
                    },
                    {
                        "itemid":2,
                        "itemname":"一起去",
                        isdefault: 1,
                        imglistname : "imagelist2",
                    },
            },
            {
                "id" : 13,
                "title" : "当前心情图片数组",
                "type" : "image",
                "defaultid" : 8,
                "itemlist" : {
                        "imagelist1":[
                        {
                            "itemid":8,
                            "itemname":"高兴",
                            "itempic":"http://a.png", //未选中的图片
                            "itemselpic":"http://a.png", //选中时的图片
                            "textcolor":"#FF3344", //选中时打勾的颜色
                            isdefault:1
                        },
                        {
                            "itemid":10,
                            "itemname":"失落",
                            "itempic":"http://b.png",
                            isdefault: 3
                        },
                    ],
                    "imagelist2":[
                        {
                            "itemid":8,
                            "itemname":"高兴",
                            "itempic":"http://a.png",
                            isdefault:1
                        },
                        {
                            "itemid":10,
                            "itemname":"失落",
                            "itempic":"http://b.png",
                            isdefault: 3
                        },
                    ],
                },
            },
            {
                "id" : 13,
                "title" : "出行预算",
                "type" : "tag",
                "defaultid" : 2,
                "itemlist":[
                    {
                        "itemid":1,
                        "itemname":"不花钱",
                        isdefault: 0,
                    },
                    {
                        "itemid":2,
                        "itemname":"100~300",
                        isdefault: 1,
                    },
                    {
                        "itemid":3,
                        "itemname":"800~2000",
                        isdefault: 0
                    }
            },
        ],
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">list</td>
<td style="text-align: left;">Array</td>
<td>获取到的待答问题列表，数组格式</td>
</tr>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">int</td>
<td>待答问题的ID</td>
</tr>
<tr>
<td style="text-align: left;">title</td>
<td style="text-align: left;">string</td>
<td>待答问题的标题，每个待答问题的ID唯一，用于下个提交接口时使用</td>
</tr>
<tr>
<td style="text-align: left;">type</td>
<td style="text-align: left;">string</td>
<td>待答问题的类型，用于客户端根据不同类型采用不同的方式展现，枚举值，当前可用值暂定为：<br> tag: 标签选择样式<br> range:选择距离样式<br>image:选择图片样式(暂不做该类型)</td>
</tr>
<tr>
<td style="text-align: left;">defaultid</td>
<td style="text-align: left;">int</td>
<td>可选列表中，默认选中的ID</td>
</tr>
<tr>
<td style="text-align: left;">itemlist</td>
<td style="text-align: left;">Array</td>
<td>待答问题的可选列表，数组格式</td>
</tr>
<tr>
<td style="text-align: left;">itemid</td>
<td style="text-align: left;">int</td>
<td>可选项的ID，用于下个提交接口时使用</td>
</tr>
<tr>
<td style="text-align: left;">itemname</td>
<td style="text-align: left;">int</td>
<td>可选项的显示文字</td>
</tr>
<tr>
<td style="text-align: left;">itempic</td>
<td style="text-align: left;">string</td>
<td>可选项的图片文件地址</td>
</tr>
<tr>
<td style="text-align: left;">itemselpic</td>
<td style="text-align: left;">string</td>
<td>可选项选中时的图片文件地址</td>
</tr>
<tr>
<td style="text-align: left;">textcolor</td>
<td style="text-align: left;">int</td>
<td>可选项选中时的颜色色值</td>
</tr>
<tr>
<td style="text-align: left;">isdefault</td>
<td style="text-align: left;">int</td>
<td>自己是否默认选中项，与defaultid功能相同,1默认选中，0不是默认值</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.3.4、获取盲盒(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>提交变量，得到盲盒</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Box/getOne</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">lng</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>当前经度</td>
</tr>
<tr>
<td style="text-align: left;">lat</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>当前纬度</td>
</tr>
<tr>
<td style="text-align: left;">jsonstr</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">Array</td>
<td>待答问题和所选答案所构造的JSON格式字符串，具体格式和示例如下：，如果不传入，则以默认条件查询</td>
</tr>
<tr>
<td style="text-align: left;">wordid</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">int</td>
<td>如果是词条开盒，此值为词条的id</td>
</tr>
<tr>
<td style="text-align: left;">cateid</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">int</td>
<td>如果是品类开盒，此值为品类的id</td>
</tr>
</tbody>
</table>
<table width='100%' class='codestyle'><pre><code>[
    {
        quesid : 2,//题目ID
        ans : 3,//选项的ID
    },
]</code></pre></table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        heartid :"提交时选中的心情id",
        heartimg : "http://xxx.png",
        parentlist : 
        [
            {
                range : 500,//该组数据的距离
                childlist : [
                    {
                        boxid : 1,
                        indexid : 1,
                        ...
                    },
                    {
                        boxid : 1,
                        indexid : 2,
                        ...
                    },
                    {
                        boxid : 1,
                        indexid : 3,
                        ...
                    },
                ]
            },
            {
                range : 100,//该组数据的距离
                childlist : [
                    {
                        boxid : 1,
                        indexid : 4,
                        ...
                    },
                    {
                        boxid : 1,
                        indexid : 5,
                        ...
                    },
                    {
                        boxid : 1,
                        indexid : 6,
                        ...
                    },
                ]
            },
        ]

//每组完整的数据如下
            {
                boxid : 1,
                indexid : 1~~9,
                logo : "http://b.png",
                pic : "http://a.png",//背景图片
                typename : "类型名称",
                typeid : "类型id",
                typelogo : "http://a.png",//类型图标
                title : "盲盒标题",
                realname : "目的地的真实名称",
                readAddress : "目的地的真实地址"
                buildName : "到达前用于显示的位置名称"
                address : "到达前用于显示的地址",
                mob : "电话",
                detail : "到达前用于显示的文案文字",
                colorlist : {
                    textcolor : "(255,123,111,0.8)",
                    bgcolor : "(255,123,111,0.8)",
                    varcolor : "(255,123,111,0.8)",
                }
                arrivedtext : "此时的你，已经来到...，小盒为{{SJTL1}}的你推荐{{SJTL2}}{{SJTL3}}，相信可以{{SJTL4}}。",
                arrivedvarlist : [
                    "失落",
                    "一大盆馒头",
                    "----粤菜",
                    "让你吃的很饱",
                ],
                beinpoint : "开启行程可得到的幸运值",
                commentpoint : "参与评价可得到的幸运值",
                sharepoint : "分享可得到的幸运值",
                items :[
                    {
                        item: "左侧文字",
                        value : "右侧内容",
                        type: 1/2/3/4
                    }
                ],
                gotnum : "来过人数",
                gotlist : [ //最多显示5个
                    "http://a.png","http://b.png",
                ]
                point : "评分,"
                lnglat : {
                    lng : "位置经度",
                    lat : "位置纬度"
                },
                expiretime : 过期时间
                navigationlist : {
                    distance  : "方案距离，单位：米",
                    steps  : [
                        {
                            instruction  : "步行指示",
                            orientation   : "进入道路方向",
                            road_name   : "分段道路名称",
                            step_distance  : "分段距离信息",
                        },

                    }
                ]
            }
        ],
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">list</td>
<td style="text-align: left;">Array</td>
<td>获取到的盲盒列表，数组格式，以兼容后续可能得到多个盲盒的情况</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">int</td>
<td>盲盒的唯一ID</td>
</tr>
<tr>
<td style="text-align: left;">indexid</td>
<td style="text-align: left;">int</td>
<td>不同类型盲盒的顺序ID</td>
</tr>
<tr>
<td style="text-align: left;">logo</td>
<td style="text-align: left;">string</td>
<td>盲盒所属分类的图标</td>
</tr>
<tr>
<td style="text-align: left;">pic</td>
<td style="text-align: left;">string</td>
<td>盲盒的显示用图片</td>
</tr>
<tr>
<td style="text-align: left;">title</td>
<td style="text-align: left;">string</td>
<td>盲盒的标题</td>
</tr>
<tr>
<td style="text-align: left;">realname</td>
<td style="text-align: left;">string</td>
<td>目的地的真实名称</td>
</tr>
<tr>
<td style="text-align: left;">readAddress</td>
<td style="text-align: left;">string</td>
<td>目的地的真实地址</td>
</tr>
<tr>
<td style="text-align: left;">buildName</td>
<td style="text-align: left;">string</td>
<td>到达前用于显示的位置名称</td>
</tr>
<tr>
<td style="text-align: left;">address</td>
<td style="text-align: left;">string</td>
<td>到达前用于显示的地址</td>
</tr>
<tr>
<td style="text-align: left;">detail</td>
<td style="text-align: left;">string</td>
<td>到达前用于显示的文案文字</td>
</tr>
<tr>
<td style="text-align: left;">colorlist</td>
<td style="text-align: left;">Array</td>
<td>显示时文字时需要使用的颜色RGB色值</td>
</tr>
<tr>
<td style="text-align: left;">textcolor</td>
<td style="text-align: left;">string</td>
<td>文案的文字颜色，格式 (0,255,123,1)</td>
</tr>
<tr>
<td style="text-align: left;">bgcolor</td>
<td style="text-align: left;">string</td>
<td>文案的背景颜色，格式 (0,255,123,1)</td>
</tr>
<tr>
<td style="text-align: left;">varcolor</td>
<td style="text-align: left;">string</td>
<td>文案中动态文字的颜色，格式 (0,255,123,1)</td>
</tr>
<tr>
<td style="text-align: left;">arrivedtext</td>
<td style="text-align: left;">string</td>
<td>含中固定变量名SJTL1...的文案内容</td>
</tr>
<tr>
<td style="text-align: left;">arrivedvarlist</td>
<td style="text-align: left;">Array</td>
<td>动态文字的内容</td>
</tr>
<tr>
<td style="text-align: left;">beinpoint</td>
<td style="text-align: left;">int</td>
<td>开启行程得到的幸运值</td>
</tr>
<tr>
<td style="text-align: left;">commentpoint</td>
<td style="text-align: left;">int</td>
<td>参与评价得到的幸运值</td>
</tr>
<tr>
<td style="text-align: left;">gotnum</td>
<td style="text-align: left;">string</td>
<td>来过人数</td>
</tr>
<tr>
<td style="text-align: left;">gotavatarlist</td>
<td style="text-align: left;">Array</td>
<td>已来过的人头像列表，最多5个</td>
</tr>
<tr>
<td style="text-align: left;">point</td>
<td style="text-align: left;">string</td>
<td>评分</td>
</tr>
<tr>
<td style="text-align: left;">lnglat</td>
<td style="text-align: left;">Array</td>
<td>真实坐标,高德坐标系</td>
</tr>
<tr>
<td style="text-align: left;">lng</td>
<td style="text-align: left;">string</td>
<td>位置经度</td>
</tr>
<tr>
<td style="text-align: left;">lat</td>
<td style="text-align: left;">string</td>
<td>位置纬度</td>
</tr>
<tr>
<td style="text-align: left;">expiretime</td>
<td style="text-align: left;">int</td>
<td>盲盒有效时间，10位时间戳</td>
</tr>
<tr>
<td style="text-align: left;">navigationlist</td>
<td style="text-align: left;">Array</td>
<td>导航方案详情</td>
</tr>
<tr>
<td style="text-align: left;">distance</td>
<td style="text-align: left;">string</td>
<td>方案距离，单位：米</td>
</tr>
<tr>
<td style="text-align: left;">steps</td>
<td style="text-align: left;">Array</td>
<td>导航路径描述列表</td>
</tr>
<tr>
<td style="text-align: left;">instruction</td>
<td style="text-align: left;">string</td>
<td>步行指示</td>
</tr>
<tr>
<td style="text-align: left;">orientation</td>
<td style="text-align: left;">string</td>
<td>进入道路方向</td>
</tr>
<tr>
<td style="text-align: left;">road_name</td>
<td style="text-align: left;">string</td>
<td>分段道路名称</td>
</tr>
<tr>
<td style="text-align: left;">step_distance</td>
<td style="text-align: left;">string</td>
<td>分段距离信息</td>
</tr>
<tr>
<td style="text-align: left;">items</td>
<td style="text-align: left;">Array</td>
<td>盲盒中需要显示的文字信息数组</td>
</tr>
<tr>
<td style="text-align: left;">item</td>
<td style="text-align: left;">string</td>
<td>列表左侧文字</td>
</tr>
<tr>
<td style="text-align: left;">value</td>
<td style="text-align: left;">string</td>
<td>列表右侧文字</td>
</tr>
<tr>
<td style="text-align: left;">type</td>
<td style="text-align: left;">string</td>
<td>列表要显示的项目，用于方便前端显示对应的图标，暂定4种类型：1距离，2人均消费，3新秘感，4新鲜感</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>根据用户标签和提交变量，计算出最适合的盲盒行程；</li>
</ol></div><h3>3.3.5、盲盒启程(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>开始一个盲盒</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Box/startBox</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>盲盒ID</td>
</tr>
<tr>
<td style="text-align: left;">indexid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>选中要开启的第几个盲盒的顺序</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        activityinfo : 0/1 ，如果为1，表示当前有活动正在进行
        url :如果有活动正在进行，此值为h5活动的链接地址
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.3.6、盲盒到达(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>标识一个盲盒已经到达</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Box/arrivedBox</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>盲盒ID</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        activityinfo : 0/1 ，如果为1，表示当前正在有活动进行
        url :如果有活动正在进行，此值为h5活动的链接地址
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.3.7、盲盒到达评价完成(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>标识一个盲盒已经完成</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Box/finishBox</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>盲盒ID</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.3.8、中止盲盒(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>标识一个盲盒不再进行</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Box/cancelBox</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>盲盒ID</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.3.9、评价盲盒(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>评价盲盒，满意或不满意</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Box/enjoyBox</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>盲盒ID</td>
</tr>
<tr>
<td style="text-align: left;">islike</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">int</td>
<td>喜欢1，不喜欢2  ，不传入默认为1</td>
</tr>
<tr>
<td style="text-align: left;">content</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">int</td>
<td>当不满意时，此值为不满意的具体原因文字，如果多个，以竖线 符号分隔</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.3.10、获取盲盒详情(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>查看盲盒详情</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Box/getBoxDetail</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>盲盒ID</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        selected : true / false,//是否已选定
        selparentindex : 0~~2,//选定的首层数据索引
        selchildindex : 0~~2,//选定的第二层数据索引
        heartid :"提交时选中的心情id",
        heartimg : "http://xxx.png",

        parentlist : 
        [
            {
                range : 500,//该组数据的距离
                childlist : [
                    {
                        boxid : 1,
                        indexid : 1,
                        ...
                    },
                    {
                        boxid : 1,
                        indexid : 2,
                        ...
                    },
                    {
                        boxid : 1,
                        indexid : 3,
                        ...
                    },
                ]
            },
            {
                range : 100,//该组数据的距离
                childlist : [
                    {
                        boxid : 1,
                        indexid : 4,
                        ...
                    },
                    {
                        boxid : 1,
                        indexid : 5,
                        ...
                    },
                    {
                        boxid : 1,
                        indexid : 6,
                        ...
                    },
                ]
            },
        ]

//每组完整的数据如下
            {
                boxid : 1,
                indexid : 1~~9,
                logo : "http://b.png",
                pic : "http://a.png",//背景图片
                typename : "类型名称",
                typeid : "类型id",
                typelogo : "http://a.png",//类型图标
                title : "盲盒标题",
                realname : "目的地的真实名称",
                readAddress : "目的地的真实地址"
                buildName : "到达前用于显示的位置名称"
                address : "到达前用于显示的地址",
                mob : "电话",
                detail : "到达前用于显示的文案文字",
                colorlist : {
                    textcolor : "(255,123,111,0.8)",
                    bgcolor : "(255,123,111,0.8)",
                    varcolor : "(255,123,111,0.8)",
                }
                arrivedtext : "此时的你，已经来到...，小盒为{{SJTL1}}的你推荐{{SJTL2}}{{SJTL3}}，相信可以{{SJTL4}}。",
                arrivedvarlist : [
                    "失落",
                    "一大盆馒头",
                    "----粤菜",
                    "让你吃的很饱",
                ],
                beinpoint : "开启行程可得到的幸运值",
                commentpoint : "参与评价可得到的幸运值",
                sharepoint : "分享可得到的幸运值",
                items :[
                    {
                        item: "左侧文字",
                        value : "右侧内容",
                        type: 1/2/3/4
                    }
                ],
                gotnum : "来过人数",
                gotlist : [ //最多显示5个
                    "http://a.png","http://b.png",
                ]
                point : "评分,"
                lnglat : {
                    lng : "位置经度",
                    lat : "位置纬度"
                },
                expiretime : 过期时间
                navigationlist : {
                    distance  : "方案距离，单位：米",
                },
                status : 0~6,
                starttime : 开启时间
                islike : 0/1/2, //进行中的盲盒的满意状态，0未选，1满意，2不满意
                mycommentlist : [
                    "很好玩","体验太好了","我自己写的字"
                ],
                isgotgift : 0/1,//是否已领取了该盲盒赠送的卡券

            }
        ],
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">list</td>
<td style="text-align: left;">Array</td>
<td>获取到的盲盒列表，数组格式，以兼容后续可能得到多个盲盒的情况</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">int</td>
<td>盲盒的唯一ID</td>
</tr>
<tr>
<td style="text-align: left;">indexid</td>
<td style="text-align: left;">int</td>
<td>不同类型盲盒的顺序ID</td>
</tr>
<tr>
<td style="text-align: left;">logo</td>
<td style="text-align: left;">string</td>
<td>盲盒所属分类的图标</td>
</tr>
<tr>
<td style="text-align: left;">pic</td>
<td style="text-align: left;">string</td>
<td>盲盒的显示用图片</td>
</tr>
<tr>
<td style="text-align: left;">title</td>
<td style="text-align: left;">string</td>
<td>盲盒的标题</td>
</tr>
<tr>
<td style="text-align: left;">realname</td>
<td style="text-align: left;">string</td>
<td>目的地的真实名称</td>
</tr>
<tr>
<td style="text-align: left;">readAddress</td>
<td style="text-align: left;">string</td>
<td>目的地的真实地址</td>
</tr>
<tr>
<td style="text-align: left;">buildName</td>
<td style="text-align: left;">string</td>
<td>到达前用于显示的位置名称</td>
</tr>
<tr>
<td style="text-align: left;">address</td>
<td style="text-align: left;">string</td>
<td>到达前用于显示的地址</td>
</tr>
<tr>
<td style="text-align: left;">detail</td>
<td style="text-align: left;">string</td>
<td>到达前用于显示的文案文字</td>
</tr>
<tr>
<td style="text-align: left;">colorlist</td>
<td style="text-align: left;">Array</td>
<td>显示时文字时需要使用的颜色RGB色值</td>
</tr>
<tr>
<td style="text-align: left;">textcolor</td>
<td style="text-align: left;">string</td>
<td>文案的文字颜色，格式 (0,255,123,1)</td>
</tr>
<tr>
<td style="text-align: left;">bgcolor</td>
<td style="text-align: left;">string</td>
<td>文案的背景颜色，格式 (0,255,123,1)</td>
</tr>
<tr>
<td style="text-align: left;">varcolor</td>
<td style="text-align: left;">string</td>
<td>文案中动态文字的颜色，格式 (0,255,123,1)</td>
</tr>
<tr>
<td style="text-align: left;">arrivedtext</td>
<td style="text-align: left;">string</td>
<td>含中固定变量名SJTL1...的文案内容</td>
</tr>
<tr>
<td style="text-align: left;">arrivedvarlist</td>
<td style="text-align: left;">Array</td>
<td>动态文字的内容</td>
</tr>
<tr>
<td style="text-align: left;">beinpoint</td>
<td style="text-align: left;">int</td>
<td>开启行程得到的幸运值</td>
</tr>
<tr>
<td style="text-align: left;">commentpoint</td>
<td style="text-align: left;">int</td>
<td>参与评价得到的幸运值</td>
</tr>
<tr>
<td style="text-align: left;">gotnum</td>
<td style="text-align: left;">string</td>
<td>来过人数</td>
</tr>
<tr>
<td style="text-align: left;">gotavatarlist</td>
<td style="text-align: left;">Array</td>
<td>已来过的人头像列表，最多5个</td>
</tr>
<tr>
<td style="text-align: left;">point</td>
<td style="text-align: left;">string</td>
<td>评分</td>
</tr>
<tr>
<td style="text-align: left;">lnglat</td>
<td style="text-align: left;">Array</td>
<td>真实坐标,高德坐标系</td>
</tr>
<tr>
<td style="text-align: left;">lng</td>
<td style="text-align: left;">string</td>
<td>位置经度</td>
</tr>
<tr>
<td style="text-align: left;">lat</td>
<td style="text-align: left;">string</td>
<td>位置纬度</td>
</tr>
<tr>
<td style="text-align: left;">expiretime</td>
<td style="text-align: left;">int</td>
<td>盲盒有效时间，10位时间戳</td>
</tr>
<tr>
<td style="text-align: left;">navigationlist</td>
<td style="text-align: left;">Array</td>
<td>导航方案详情</td>
</tr>
<tr>
<td style="text-align: left;">distance</td>
<td style="text-align: left;">string</td>
<td>方案距离，单位：米</td>
</tr>
<tr>
<td style="text-align: left;">steps</td>
<td style="text-align: left;">Array</td>
<td>导航路径描述列表</td>
</tr>
<tr>
<td style="text-align: left;">instruction</td>
<td style="text-align: left;">string</td>
<td>步行指示</td>
</tr>
<tr>
<td style="text-align: left;">orientation</td>
<td style="text-align: left;">string</td>
<td>进入道路方向</td>
</tr>
<tr>
<td style="text-align: left;">road_name</td>
<td style="text-align: left;">string</td>
<td>分段道路名称</td>
</tr>
<tr>
<td style="text-align: left;">step_distance</td>
<td style="text-align: left;">string</td>
<td>分段距离信息</td>
</tr>
<tr>
<td style="text-align: left;">items</td>
<td style="text-align: left;">Array</td>
<td>盲盒中需要显示的文字信息数组</td>
</tr>
<tr>
<td style="text-align: left;">item</td>
<td style="text-align: left;">string</td>
<td>列表左侧文字</td>
</tr>
<tr>
<td style="text-align: left;">value</td>
<td style="text-align: left;">string</td>
<td>列表右侧文字</td>
</tr>
<tr>
<td style="text-align: left;">type</td>
<td style="text-align: left;">string</td>
<td>列表要显示的项目，用于方便前端显示对应的图标，暂定4种类型：1距离，2人均消费，3新秘感，4新鲜感</td>
</tr>
</tbody>
</table>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">值</th>
<th>盲盒状态</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">0</td>
<td>待开启</td>
</tr>
<tr>
<td style="text-align: left;">1</td>
<td>已开启，进行中，未到达</td>
</tr>
<tr>
<td style="text-align: left;">2</td>
<td>已到达，未评价</td>
</tr>
<tr>
<td style="text-align: left;">3</td>
<td>已评价，已完成</td>
</tr>
<tr>
<td style="text-align: left;">4</td>
<td>已过期失效</td>
</tr>
<tr>
<td style="text-align: left;">5</td>
<td>已主动丢弃</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
<li>根据用户标签和提交变量，计算出最适合的盲盒行程；</li>
</ol></div><h3>3.3.11、获取可选分类(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>进入盲盒页面，获取顶部分类列表</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Box/getBoxCateTypes</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">lng</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>当前经度</td>
</tr>
<tr>
<td style="text-align: left;">lat</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>当前纬度</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        colorlist :[
            {
                txtcolor : "#49A4F8", //文字颜色
                bgcolor : "#DEEFFE", //背景色
                linecolor : "#B8DAF9" //描边颜色
            }
        ],
        catelist :[
            {
                cateid : 1,
                title : "分类名称",
            }
        ],
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>前端调用本接口，接口随机返回一部分分类列表</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div></div><h2>3.4、社区</h2><div style="margin-left:20px;"><h3>3.4.1、提交先行者计划表单</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>提交先行者计划表单</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Community/submitRegForm</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code> </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>姓名</td>
</tr>
<tr>
<td style="text-align: left;">age</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>年玲</td>
</tr>
<tr>
<td style="text-align: left;">location</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>地区</td>
</tr>
<tr>
<td style="text-align: left;">mob</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>手机号</td>
</tr>
<tr>
<td style="text-align: left;">wechat</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>微信号</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ol>
<li>记录客户端请求数据日志，按客户端类型/来源IP/时间进行存储，用于之后的数据统计；</li>
<li>返回有效Token;</li>
</ol></div></div><h2>3.5、第三方</h2><div style="margin-left:20px;"></div><h2>3.6、小程序</h2><div style="margin-left:20px;"><h3>3.6.1、通过小程序授权获取通信token(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取数据传输必传token参数
所有其他接口在被调用时，均需要传入token参数，此接口为小程序页面内获取token的唯一获取接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/System/getMiniToken</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code> </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>wx.login() 返回的code参数</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
      &quot;token&quot;: &quot;ACCESS_TOKEN &quot;,
      &quot;openid&quot;: &quot;122221222222&quot;,
      &quot;isnew&quot; : 0/1,
      &quot;shareid&quot; : 123,
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">string</td>
<td>如果该用户已经做过手机号授权，则此值有返回，否则，此值为空</td>
</tr>
<tr>
<td style="text-align: left;">openid</td>
<td style="text-align: left;">string</td>
<td>该用户的openid,用于手机授权时提交</td>
</tr>
<tr>
<td style="text-align: left;">isnew</td>
<td style="text-align: left;">int</td>
<td>0/1，是否新用户，1是新用户，0是老用户；如果是新用户，则客户端应弹出资料完善相关的标签表单等流程</td>
</tr>
<tr>
<td style="text-align: left;">shareid</td>
<td style="text-align: left;">int</td>
<td>当小程序发生分享动作时，此将此ID携带分享出去，用于记录分享轨迹</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>前端调用者，在取得token之后，应在本地进行存储，供之后的其他接口调用。</li>
<li>token的有效期由服务端控制，首次获得到一定时间内有效，每次使用后该时间都会被刷新，长时间不使用超过所设定的时间段时，token失效，前端应重新获取。具体由错误值定义表定义。</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>使用Redis生成和存取Token；</li>
<li>记录客户端请求数据日志，按客户端类型/来源IP/时间进行存储，用于之后的数据统计；</li>
<li>返回有效Token;</li>
</ol></div><h3>3.6.2、小程序-提交头像昵称</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>小程序授权完成并获取到昵称头像之后，向服务端提交昵称和头像完成数据记录</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/Api/User/submitNickName</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td></td>
</tr>
<tr>
<td style="text-align: left;">nickname</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>昵称</td>
</tr>
<tr>
<td style="text-align: left;">headimg</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>头像地址</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p></div><h3>3.6.3、注册/登录-通过小程序授权(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>小程序授权完成并获取到手机号码后，向服务端提交用户注册登录</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/Api/User/submitActiveByPhone</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">openid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>使用code换取得到的用户的openid</td>
</tr>
<tr>
<td style="text-align: left;">encryptedData</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>微信接口获得的数据</td>
</tr>
<tr>
<td style="text-align: left;">iv</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>微信接口获得的数据</td>
</tr>
<tr>
<td style="text-align: left;">shareid</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>前位分享者所带出的分享ID</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
        token : &quot;token_str&quot;,
        isnew : 1,
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">string</td>
<td>已手机授权用户的身份标识</td>
</tr>
<tr>
<td style="text-align: left;">isnew</td>
<td style="text-align: left;">int</td>
<td>0/1，是否新用户，1是新用户，0是老用户；如果是新用户，则客户端应弹出资料完善相关的标签表单等流程</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p></div></div><h2>3.7、信息流</h2><div style="margin-left:20px;"><h3>3.7.1、获取首页信息流列表(已完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取首页信息流列表</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Infomation/getList</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">lng</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>当前位置坐标</td>
</tr>
<tr>
<td style="text-align: left;">lat</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>当前位置坐标</td>
</tr>
<tr>
<td style="text-align: left;">type</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要获取的类型，hot最热，local本地，不传则为所有</td>
</tr>
<tr>
<td style="text-align: left;">page</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的页数，不输入则为第一页</td>
</tr>
<tr>
<td style="text-align: left;">limit</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的每页数量，不输入固定为10个每页</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        "list": [
        {
            type : 1/2, //1文章，2词条
            "id" : 文章id或者词条id,
            "title" : "文章标题或者词条标题",
            "content" : "文章内容文字或者词条内容",

            banner : 如果是词条，有此值，是词条的图片
            bgimg : 如果是词条，有此值，是词条的背景图
            subtitle : 如果是词条，有此值，是词条的副标题
            btntxt : 如果是词条，有此值，是按钮上显示的文字

            //以下为文章的输出字段
            bannernumber : "图片数量，1~5",
            bannerlist : [
                "http://a.png","http://b.png"
            ],
            nickname : "用户昵称",
            avatar : "头像",
            "sendtime" : "2021-09-09 12:12:12",
            likenumber : "点赞数量",
            isliked : 0/1, //自己是否已点赞
            commentnumber : "评价数量",
            location : {
                address : "地点名称",
                lng : 经度
                lat : 纬度
                detailaddress : "地点地址",
                point : "地点评分",
            }
        }
      ],
      "totalnum":333,
      "totalpage":22,
      "currpage":1,
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">totalnum</td>
<td style="text-align: left;">string</td>
<td>总数量</td>
</tr>
<tr>
<td style="text-align: left;">totalpage</td>
<td style="text-align: left;">string</td>
<td>总页数</td>
</tr>
<tr>
<td style="text-align: left;">currpage</td>
<td style="text-align: left;">string</td>
<td>当前页数</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.7.2、获取首页信息流详情(已完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取首页信息流详情</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Infomation/getDetail</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>文章id</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
            "id" : 文章id,
            bannernumber : "图片数量",
            bannerlist : [ //图片数组
                "http://a.png","http://b.png"
            ]
            nickname : "用户昵称",
            avatar : "头像",
            "sendtime" : "2021-09-09 12:12:12",
            "title" : "文章标题",
            "content" : "文章内容文字",
            likenumber : "点赞数量",
            isliked : 0/1, //自己是否已点赞
            commentnumber : "评价数量",

            ismine : 0/1 //是否自己发的文章
            favnumber : "收藏数量",
            isfaved : 0/1, //自己是否已收藏
            location : {
                address : "地点名称",
                lng : 经度
                lat : 纬度
                detailaddress : "地点地址",
                point : "地点评分",
            }
            gotavatarlist : [ //去过人员的头像列表
                "http://a.png","http://b.png"
            ]，
            h5url : "复制链接时使用的链接地址",
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">totalnum</td>
<td style="text-align: left;">string</td>
<td>总数量</td>
</tr>
<tr>
<td style="text-align: left;">totalpage</td>
<td style="text-align: left;">string</td>
<td>总页数</td>
</tr>
<tr>
<td style="text-align: left;">currpage</td>
<td style="text-align: left;">string</td>
<td>当前页数</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.7.3、获取信息流评论列表(已完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取信息流评论列表</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Infomation/getCommentList</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>文章id</td>
</tr>
<tr>
<td style="text-align: left;">commentid</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的评认的id，如果传入，则只输该评论及该评论下的所有二级评论</td>
</tr>
<tr>
<td style="text-align: left;">page</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的页数，不输入则为第一页</td>
</tr>
<tr>
<td style="text-align: left;">limit</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的每页数量，不输入固定为10个每页</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
            myavatar : "自己的头像",
            mynickname : "自己的昵称",
            list : [//评论列表
                {
                    commentid : "评论id",
                    avatar : "评论人头像",
                    nickname : "评论人昵称",
                    content : "评论内容",
                    sendtime : "2021-09-09 12:12:12"
                    ismine : 0/1 //是否自己发的评价
                    replylist : [//回复列表
                        commentid : "评论id",
                        replyid : "回复id",
                        avatar : "回复人头像",
                        commentnickname : "评论人昵称",
                        nickname : "回复人昵称",
                        content : "回复内容",
                        sendtime : "2021-09-09 12:12:12"
                        ismine : 0/1 //是否自己发的回复
                    ]
                }
            ]，
          "totalnum":333,
          "totalpage":22,
          "currpage":1,
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">totalnum</td>
<td style="text-align: left;">string</td>
<td>总数量</td>
</tr>
<tr>
<td style="text-align: left;">totalpage</td>
<td style="text-align: left;">string</td>
<td>总页数</td>
</tr>
<tr>
<td style="text-align: left;">currpage</td>
<td style="text-align: left;">string</td>
<td>当前页数</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.7.4、写笔记(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>写笔记</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Infomation/createInfo</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>如果修改，此值为要修改的文章的id，如果不传则为修改</td>
</tr>
<tr>
<td style="text-align: left;">title</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>文章标题</td>
</tr>
<tr>
<td style="text-align: left;">content</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>文章内容</td>
</tr>
<tr>
<td style="text-align: left;">address</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>关联地理位置名称</td>
</tr>
<tr>
<td style="text-align: left;">lng</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>关联地理位置经度</td>
</tr>
<tr>
<td style="text-align: left;">lat</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>关联地理位置纬度</td>
</tr>
<tr>
<td style="text-align: left;">pic</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">Array</td>
<td>图片数组，格式["<a href="http://a.png","http://b.png">http://a.png","http://b.png</a>"]</td>
</tr>
<tr>
<td style="text-align: left;">detailaddress</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>详细地址</td>
</tr>
<tr>
<td style="text-align: left;">point</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">double</td>
<td>评分</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        id : 发布成功得到的文章id
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.7.5、删除笔记(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>删除笔记</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Infomation/deleteInfo</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>文章id</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.7.6、删除评论或回复(已完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>删除评论或回复</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Infomation/deleteComment</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>评论id或者回复id</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.7.7、点赞/取消点赞(已完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>点赞/取消点赞</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Infomation/likeArticle</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>文章id</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>如果未赞过，会变成已点赞，如果已赞过，会变成取消点赞</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.7.8、收藏/取消收藏(已完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>收藏/取消收藏</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Infomation/favArticle</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>文章id</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>如果未收藏，会变成已收藏，如果已收藏，会变成取消收藏</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.7.9、首页信息流搜索列表(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>首页信息流搜索列表</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Infomation/getSearchList</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">title</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要搜索的关键字</td>
</tr>
<tr>
<td style="text-align: left;">page</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的页数，不输入则为第一页</td>
</tr>
<tr>
<td style="text-align: left;">limit</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的每页数量，不输入固定为10个每页</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        "list": [
        {
            "id" : 文章id,
            banner : "图片url",
            title : "文章标题",
        }
      ],
      "totalnum":333,
      "totalpage":22,
      "currpage":1,
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">totalnum</td>
<td style="text-align: left;">string</td>
<td>总数量</td>
</tr>
<tr>
<td style="text-align: left;">totalpage</td>
<td style="text-align: left;">string</td>
<td>总页数</td>
</tr>
<tr>
<td style="text-align: left;">currpage</td>
<td style="text-align: left;">string</td>
<td>当前页数</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.7.10、我发布的笔记(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>我发布的笔记</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Infomation/getMyInfoList</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">page</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的页数，不输入则为第一页</td>
</tr>
<tr>
<td style="text-align: left;">limit</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的每页数量，不输入固定为10个每页</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        "list": [
        {
            "id" : 文章id,
            banner : "图片url",
            title : "文章标题",
        }
      ],
      "totalnum":333,
      "totalpage":22,
      "currpage":1,
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">totalnum</td>
<td style="text-align: left;">string</td>
<td>总数量</td>
</tr>
<tr>
<td style="text-align: left;">totalpage</td>
<td style="text-align: left;">string</td>
<td>总页数</td>
</tr>
<tr>
<td style="text-align: left;">currpage</td>
<td style="text-align: left;">string</td>
<td>当前页数</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.7.11、我收藏的文章(已完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>我收藏的文章</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Infomation/getMyfavList</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">page</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的页数，不输入则为第一页</td>
</tr>
<tr>
<td style="text-align: left;">limit</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的每页数量，不输入固定为10个每页</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        "list": [
        {
            "id" : 文章id,
            banner : "图片url",
            title : "文章标题",
            nickname : "用户昵称",
            avatar : "头像",
            "sendtime" : "2021-09-09 12:12:12",
        }
      ],
      "totalnum":333,
      "totalpage":22,
      "currpage":1,
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">totalnum</td>
<td style="text-align: left;">string</td>
<td>总数量</td>
</tr>
<tr>
<td style="text-align: left;">totalpage</td>
<td style="text-align: left;">string</td>
<td>总页数</td>
</tr>
<tr>
<td style="text-align: left;">currpage</td>
<td style="text-align: left;">string</td>
<td>当前页数</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.7.12、举报笔记(已完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>举报笔记</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Infomation/reportInfo</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>文章id</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.7.13、举报评论或回复(已完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>举报评论或回复</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Infomation/reportComment</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>评论id或者回复id</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.7.14、写评论(已完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>写评论</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Infomation/createComment</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">articleid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>文章id</td>
</tr>
<tr>
<td style="text-align: left;">commentid</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">int</td>
<td>如果是给文章写评论，此值为空，如果是给某个评论写回复，此值为要回复的评论的id</td>
</tr>
<tr>
<td style="text-align: left;">content</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>文字内容</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        commentid : "评论id",
        replyid : "二级评论id",
        avatar : "评论人头像",
        nickname : "评论人昵称",
        content : "评论内容",
        sendtime : "2021-09-09 12:12:12"
        ismine : 0/1 //是否自己发的评价

    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.7.15、获取首页信息流首页广告(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取首页信息流首页广告</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Infomation/getBannerList</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">lng</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>当前位置坐标</td>
</tr>
<tr>
<td style="text-align: left;">lat</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>当前位置坐标</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        bannertype : 0无广告，1单图类型，2双图类型
        "list": [ //图片列表
            {
                pic : "http://a.png"
                targettype : 跳转类型, box跳转到开盒页，detail跳转到文章详情页，h5跳转到外部h5页面, none无点击事件
                param : "文章详情页的id，外部h5的url",
            }
      ],
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.7.16、获取首页信息流弹出广告(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取首页信息流弹出广告</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Infomation/getPopupPic</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">lng</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>当前位置坐标</td>
</tr>
<tr>
<td style="text-align: left;">lat</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>当前位置坐标</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        showpic : 1/0, //1显示弹出图片，0不显示
        pic : "http://a.png"
        targettype : 跳转类型, box跳转到开盒页，detail跳转到文章详情页，h5跳转到外部h5页面, none无点击事件
        param : "文章详情页的id，外部h5的url",
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div></div><h2>3.8、商户端</h2><div style="margin-left:20px;"><h3>3.8.1、通过小程序授权获取通信token(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取数据传输必传token参数
所有其他接口在被调用时，均需要传入token参数，此接口为小程序页面内获取token的唯一获取接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Shop/getMiniToken</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code> </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>wx.login() 返回的code参数</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
      "token": "ACCESS_TOKEN ",
      "openid": "122221222222",
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">string</td>
<td>如果该用户已经做过手机号授权，则此值有返回，否则，此值为空</td>
</tr>
<tr>
<td style="text-align: left;">openid</td>
<td style="text-align: left;">string</td>
<td>该用户的openid,用于手机号登录时提交</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>前端调用者，在取得token之后，应在本地进行存储，供之后的其他接口调用。</li>
<li>token的有效期由服务端控制，首次获得到一定时间内有效，每次使用后该时间都会被刷新，长时间不使用超过所设定的时间段时，token失效，前端应重新获取。具体由错误值定义表定义。</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>使用Redis生成和存取Token；</li>
<li>记录客户端请求数据日志，按客户端类型/来源IP/时间进行存储，用于之后的数据统计；</li>
<li>返回有效Token;</li>
</ol></div><h3>3.8.2、商户登录(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>商户在首次打开小程序时进入登录页</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/Api/Shop/login</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><del>openid</del></td>
<td style="text-align: left;"><del>是</del></td>
<td style="text-align: left;"><del>string</del></td>
<td><del>使用code换取得到的用户的openid</del></td>
</tr>
<tr>
<td style="text-align: left;">mob</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>手机号</td>
</tr>
<tr>
<td style="text-align: left;">pwd</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>密码</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        token : "token_str",
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">string</td>
<td>已手机授权用户的身份标识</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p></div><h3>3.8.3、获取商户信息(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取商户信息</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/Api/Shop/getShopInfo</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li>POST </li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        title : "商户名称",
        address : "商户地址",
        worktime : "营业时间",
        mob : "联系电话",
        showtimes : "近7天曝光次数",
        gottimes : "近7天到店次数",
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p></div><h3>3.8.4、获取到店记录列表(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取到店记录列表</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Shop/getGotShopRecordList</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">page</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的页数，不输入则为第一页</td>
</tr>
<tr>
<td style="text-align: left;">limit</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的每页数量，不输入固定为10个每页</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
            list : [//记录列表
                {
                    id : "唯一id",
                    title : "商品名称",
                    orderid : "订单号",
                    time : "到店时间",
                }
            ]，
          "totalnum":333,
          "totalpage":22,
          "currpage":1,
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">totalnum</td>
<td style="text-align: left;">string</td>
<td>总数量</td>
</tr>
<tr>
<td style="text-align: left;">totalpage</td>
<td style="text-align: left;">string</td>
<td>总页数</td>
</tr>
<tr>
<td style="text-align: left;">currpage</td>
<td style="text-align: left;">string</td>
<td>当前页数</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.8.5、获取到店订单详情(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取到店订单详情</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Shop/getGotShopRecordDetail</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>订单唯一id</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        id : "唯一id",
        title : "商品名称",
        orderid : "订单号",
        time : "到店时间",
        pic : 商品图片
        number : 人数
        price : 订单金额
        nick : 客户名称
        mob : 客户电话
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.8.6、获取商品列表(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取商品列表</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Shop/getShopProductList</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的状态，0有效，1已下架，不传入则两个都查</td>
</tr>
<tr>
<td style="text-align: left;">page</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的页数，不输入则为第一页</td>
</tr>
<tr>
<td style="text-align: left;">limit</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的每页数量，不输入固定为10个每页</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
            list : [//列表
                {
                    id : "唯一id",
                    title : "商品名称",
                    number : "适用人数",
                    price : "价格",
                    pic : 商品图片
                    status : 0有效 1已下架
                }
            ]，
          "totalnum":333,
          "totalpage":22,
          "currpage":1,
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">totalnum</td>
<td style="text-align: left;">string</td>
<td>总数量</td>
</tr>
<tr>
<td style="text-align: left;">totalpage</td>
<td style="text-align: left;">string</td>
<td>总页数</td>
</tr>
<tr>
<td style="text-align: left;">currpage</td>
<td style="text-align: left;">string</td>
<td>当前页数</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.8.7、获取商品详情(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取商品详情</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Shop/getShopProductDetail</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">productid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>要查询的商品id</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        id : "唯一id",
        title : "商品名称",
        number : "适用人数",
        price : "价格",
        pic : 商品图片
        content : 商品简介
        saleprice : 门市价格
        price : 优惠价格
        times : 适用时段文字
        status : 当前状态，0正常，1停用

    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.8.8、商品上/下架(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>商品上/下架</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Shop/changeShopProductStatus</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">productid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>要查询的商品id</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>1下架该商品，0销售该商品</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.8.9、新增/修改商品详情(完成)</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>新增/修改商品详情</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Shop/newShopProduct</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">productid</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>如果是修改，此值为要修改的商品id，如果是新建，此值为空</td>
</tr>
<tr>
<td style="text-align: left;">title</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>商品名称</td>
</tr>
<tr>
<td style="text-align: left;">number</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>适用人数</td>
</tr>
<tr>
<td style="text-align: left;">pic</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>商品图片</td>
</tr>
<tr>
<td style="text-align: left;">content</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>商品简介</td>
</tr>
<tr>
<td style="text-align: left;">saleprice</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>门市价格</td>
</tr>
<tr>
<td style="text-align: left;">price</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>优惠价格</td>
</tr>
<tr>
<td style="text-align: left;">days</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">Array</td>
<td>适用日期 0~6，不可重复</td>
</tr>
<tr>
<td style="text-align: left;">times</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">Array</td>
<td>营业时段 [开始时间，结束时间] 格式 HH:mm</td>
</tr>
<tr>
<td style="text-align: left;">timeStr</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">String</td>
<td>语义化时间格式</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div></div><h2>3.9、抽奖</h2><div style="margin-left:20px;"><h3>3.9.1、获取抽奖奖品列表</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取抽奖奖品列表</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Activity/getActivityGiftList</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        list : [
            {
                id : 奖品id,
                name : 奖品名称,
                icon : http://奖品图片
            }
        ]
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.9.2、获取抽奖中奖名单列表</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取抽奖中奖名单列表</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Activity/getGotGiftList</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">page</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的页数，不输入则为第一页</td>
</tr>
<tr>
<td style="text-align: left;">limit</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的每页数量，不输入固定为10个每页</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
            list : [//记录列表
                {
                    id : "唯一id",
                    userid : "用户id，如 133****3344",
                    giftname : "奖品名称",
                }
            ]，
          "totalnum":333,
          "totalpage":22,
          "currpage":1,
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">totalnum</td>
<td style="text-align: left;">string</td>
<td>总数量</td>
</tr>
<tr>
<td style="text-align: left;">totalpage</td>
<td style="text-align: left;">string</td>
<td>总页数</td>
</tr>
<tr>
<td style="text-align: left;">currpage</td>
<td style="text-align: left;">string</td>
<td>当前页数</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.9.3、获取我的奖品列表</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>获取我的奖品列表</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Activity/getMyGiftList</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        list :[
            {
                id : 中奖id
                giftname :奖品名称
                status : 领取状态，0未领取，1已提交未发放，2已领取
            }
        ]
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.9.4、抽奖</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>抽奖</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Activity/startGift</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>要抽奖的盒子id</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        giftid : 中奖的礼品id,如果为0则为未中奖
        giftname : 中奖的礼品名称,
        gifticon : 中奖的礼品图片
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.9.5、提交支付宝账号领奖</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>提交支付宝账号领奖</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Activity/submitAliAccount</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>中奖的盒子id</td>
</tr>
<tr>
<td style="text-align: left;">account</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>支付宝账号</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {

    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div><h3>3.9.6、抽奖检测</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>抽奖检测</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Api/Activity/checkBoxGift</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>通信token</td>
</tr>
<tr>
<td style="text-align: left;">boxid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>要抽奖的盒子id</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    "code": 0,
    "msg": "Success",
    "data": {
        isgifted : 0/1 该盲盒是否已抽过奖，1已抽过
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>判断Token的有效性；</li>
</ol></div></div></div><h1>4、管理后台接口</h1><div style="margin-left:0px;"><h2>4.1、管理后台接口统一规范</h2><div style="margin-left:0px;"><h5>简要描述</h5>
<ul>
<li>此部分定义管理后台的接口定义规范</li>
</ul>
<h5>说明</h5>
<ul>
<li>考虑到前端接口与后台接口虽然都采用前后分离的模式进行设计，但是在部署上有可能会采用分布式的方式进行部署，所以前端接口与后台接口分别进行设计和实现，即使功能上有部分重合，也分别进行实现。</li>
</ul>
<h5>token安全验证机制</h5>
<ul>
<li>所有的接口通讯都必须通过token验证，关于token参数的传递，后台接口的token验证，需要将token信息组装到http头信息中进行提交。</li>
</ul>
<h5>接口规范</h5>
<ul>
<li>后台接口依据业务对象进行分拆，为每一个要管理操作的业务对象设计一组接口，通常情况每组接口应分别有5个组成，分别实现：获取列表、获取单个、新增、修改、删除 这5种操作，接口名为同一个，但是通过RESTful的类型进行区分，具体参数定义如下：</li>
</ul>
<h5>参数</h5>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">RESTful</th>
<th style="text-align: left;">必填参数</th>
<th style="text-align: left;">接口功能</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>GET</code></td>
<td style="text-align: left;">无</td>
<td style="text-align: left;">获取所操作对象的列表</td>
<td>如果无参数则返回列表，页数、每页数量、排序字段如果无传入则由服务端缺省，如果有传入则以传入值为准；如果有更多查询条件，则由每个接口具体定义</td>
</tr>
<tr>
<td style="text-align: left;"><code>GET</code></td>
<td style="text-align: left;">id</td>
<td style="text-align: left;">查询单个对象的信息</td>
<td>在有ID传入的情况下，仅返回该对象的信息，注意此接口返回的是单个对象不是对象列表</td>
</tr>
<tr>
<td style="text-align: left;"><code>POST</code></td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">新增单个对象</td>
<td>新增对象的字段信息由具体接口进行定义</td>
</tr>
<tr>
<td style="text-align: left;"><code>PUT</code></td>
<td style="text-align: left;">id</td>
<td style="text-align: left;">修改单个对象的数据</td>
<td>除ID外，其它要修改的字段信息由具体接口进行定义</td>
</tr>
<tr>
<td style="text-align: left;"><code>DEL</code></td>
<td style="text-align: left;">id</td>
<td style="text-align: left;">删除单个对象</td>
<td>-</td>
</tr>
</tbody>
</table>
<h5>示例</h5>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">接口地址</th>
<th style="text-align: left;">方法</th>
<th style="text-align: left;">接口功能</th>
<th style="text-align: left;">其他参数</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">.../Admin/AppUser/User</td>
<td style="text-align: left;"><code>GET</code></td>
<td style="text-align: left;">获取所有注册用户中城市是广州的用户列表，每页30个，查询第2页的数据</td>
<td style="text-align: left;">?page=2&pagenum=30&city=广州</td>
</tr>
<tr>
<td style="text-align: left;">.../Admin/AppUser/User/13</td>
<td style="text-align: left;"><code>GET</code></td>
<td style="text-align: left;">获取ID为13的用户的信息</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: left;">.../Admin/AppUser/User</td>
<td style="text-align: left;"><code>POST</code></td>
<td style="text-align: left;">新增注册用户</td>
<td style="text-align: left;">name=张三&sex=男</td>
</tr>
<tr>
<td style="text-align: left;">.../Admin/AppUser/User/13</td>
<td style="text-align: left;"><code>PUT</code></td>
<td style="text-align: left;">修改ID为13的用户的信息</td>
<td style="text-align: left;">name=张三&sex=男</td>
</tr>
<tr>
<td style="text-align: left;">.../Admin/AppUser/User/13</td>
<td style="text-align: left;"><code>DEL</code></td>
<td style="text-align: left;">删除ID为13的用户</td>
<td style="text-align: left;">无</td>
</tr>
</tbody>
</table>
<h5>备注</h5>
<ul>
<li>
</li>
</ul></div><h2>4.1、公共类</h2><div style="margin-left:20px;"><h3>4.1.1、获取通信token</h3><div style="margin-left:0px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>管理后台打开时，获取数据传输必传token参数
所有其他接口在被调用时，均需要传入token参数，此接口为token的唯一获取接口</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Admin/System/getToken</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code></li>
</ul>
<p><strong>参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">AppID</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>调用者的类型，因为此接口仅供后台使用，故类型暂定只有一种：Admin</td>
</tr>
<tr>
<td style="text-align: left;">Secret</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>系统分配的密码</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
      &quot;token&quot;: &quot;ACCESS_TOKEN &quot;,
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">token</td>
<td style="text-align: left;">string</td>
<td>所获取到的token，之后的所有接口均需要使用</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>前端调用者，在取得token之后，应在本地进行存储，供之后的其他接口调用。</li>
<li>token的有效期由服务端控制，首次获得到一定时间内有效，每次使用后该时间都会补刷新，长时间不使用超过所设定的时间段时，token失效，前端应重新获取。具体由错误值定义表定义。</li>
</ul>
<p><strong>后端接口业务逻辑：</strong> </p>
<ol>
<li>判断输入参数的有效性；</li>
<li>使用Redis生成和存取Token；</li>
<li>返回有效Token;</li>
</ol></div></div><h2>4.2、后台管理</h2><div style="margin-left:20px;"><h2>4.2.1、管理员管理</h2><div style="margin-left:0px;"><h3>4.2.1.1、获取管理员列表</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>管理后台中，用于对管理后台的管理员进行管理</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Admin/System/AdminUsers</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>GET</code> </li>
</ul>
<p><strong>输入参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">page</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">int</td>
<td>要查询的页数，不传入缺省为第1页</td>
</tr>
<tr>
<td style="text-align: left;">pagenum</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">int</td>
<td>每页要查询的数量，不传入缺少由服务端统一设置</td>
</tr>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的管理员的登录名称</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的管理员的状态 1正常可用 2已停用</td>
</tr>
<tr>
<td style="text-align: left;">roleid</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的管理员的所属的权限组的ID</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
      &quot;list&quot;: [
        {
            &quot;id&quot;:123,
            &quot;name&quot;:&quot;admin&quot;,
            &quot;realname&quot;:&quot;张三&quot;,
            &quot;headimg&quot;:&quot;http://a.png&quot;,
            &quot;roleid&quot;:23,
            &quot;rolename&quot;:&quot;编辑维护组&quot;,
            &quot;status&quot;:1,
        }
      ],
      &quot;totalnum&quot;:999,
      &quot;currpage&quot;:1,
      &quot;totalpage&quot;:100
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">list</td>
<td style="text-align: left;">Array</td>
<td>用户列表</td>
</tr>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">int</td>
<td>用户唯一ID</td>
</tr>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">string</td>
<td>用户登录账号</td>
</tr>
<tr>
<td style="text-align: left;">realname</td>
<td style="text-align: left;">string</td>
<td>真实姓名</td>
</tr>
<tr>
<td style="text-align: left;">headimg</td>
<td style="text-align: left;">string</td>
<td>头像</td>
</tr>
<tr>
<td style="text-align: left;">roleid</td>
<td style="text-align: left;">int</td>
<td>所在权限组ID</td>
</tr>
<tr>
<td style="text-align: left;">rolename</td>
<td style="text-align: left;">string</td>
<td>所在权限组名称</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">int</td>
<td>当前状态，1正常，2已停用</td>
</tr>
<tr>
<td style="text-align: left;">totalnum</td>
<td style="text-align: left;">int</td>
<td>总记录数</td>
</tr>
<tr>
<td style="text-align: left;">currpage</td>
<td style="text-align: left;">int</td>
<td>当前页数</td>
</tr>
<tr>
<td style="text-align: left;">totalpage</td>
<td style="text-align: left;">int</td>
<td>总页数</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p></div><h3>4.2.1.2、获取管理员详情</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>管理后台中，用于对管理后台的管理员进行管理</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Admin/System/AdminUsers</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>GET</code> </li>
</ul>
<p><strong>输入参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>要查询的用户ID</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
            &quot;id&quot;:123,
            &quot;name&quot;:&quot;admin&quot;,
            &quot;realname&quot;:&quot;张三&quot;,
            &quot;headimg&quot;:&quot;http://a.png&quot;,
            &quot;roleid&quot;:23,
            &quot;rolename&quot;:&quot;编辑维护组&quot;,
            &quot;status&quot;:1,
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">int</td>
<td>用户唯一ID</td>
</tr>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">string</td>
<td>用户登录账号</td>
</tr>
<tr>
<td style="text-align: left;">realname</td>
<td style="text-align: left;">string</td>
<td>真实姓名</td>
</tr>
<tr>
<td style="text-align: left;">headimg</td>
<td style="text-align: left;">string</td>
<td>头像</td>
</tr>
<tr>
<td style="text-align: left;">roleid</td>
<td style="text-align: left;">int</td>
<td>所在权限组ID</td>
</tr>
<tr>
<td style="text-align: left;">rolename</td>
<td style="text-align: left;">string</td>
<td>所在权限组名称</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">int</td>
<td>当前状态，1正常，2已停用</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p></div><h3>4.2.1.3、新增管理员</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>管理后台中，用于对管理后台的管理员进行管理</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Admin/System/AdminUsers</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>POST</code> </li>
</ul>
<p><strong>输入参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>用户登录账号</td>
</tr>
<tr>
<td style="text-align: left;">pwd</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>登录密码</td>
</tr>
<tr>
<td style="text-align: left;">realname</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>真实姓名</td>
</tr>
<tr>
<td style="text-align: left;">headimg</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>头像</td>
</tr>
<tr>
<td style="text-align: left;">roleid</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">int</td>
<td>所在权限组ID</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p></div><h3>4.2.1.4、修改管理员</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>管理后台中，用于对管理后台的管理员进行管理</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Admin/System/AdminUsers</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>PUT</code> </li>
</ul>
<p><strong>输入参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>要修改的用户ID</td>
</tr>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>用户登录账号</td>
</tr>
<tr>
<td style="text-align: left;">pwd</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>登录密码</td>
</tr>
<tr>
<td style="text-align: left;">realname</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>真实姓名</td>
</tr>
<tr>
<td style="text-align: left;">headimg</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>头像</td>
</tr>
<tr>
<td style="text-align: left;">roleid</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">int</td>
<td>所在权限组ID</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>传入的字段将被修改</li>
</ul></div><h3>4.2.1.5、删除管理员</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>管理后台中，用于对管理后台的管理员进行管理</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Admin/System/AdminUsers</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>DEL</code> </li>
</ul>
<p><strong>输入参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">是</td>
<td style="text-align: left;">string</td>
<td>要修改的用户ID</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p>
<ul>
<li>
</li>
</ul></div></div><h2>4.2.2、权限组管理</h2><div style="margin-left:0px;"><h3>4.2.2.1、权限组列表</h3><div style="margin-left:30px;"><p><strong>简要描述：</strong> </p>
<ul>
<li>管理后台中，用于对管理后台的权限组进行管理</li>
</ul>
<p><strong>请求URL：</strong> </p>
<ul>
<li><code>前缀/版本号/Admin/System/AdminRoles</code></li>
</ul>
<p><strong>请求方式：</strong></p>
<ul>
<li><code>GET</code> </li>
</ul>
<p><strong>输入参数：</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">必选</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">page</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">int</td>
<td>要查询的页数，不传入缺省为第1页</td>
</tr>
<tr>
<td style="text-align: left;">pagenum</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">int</td>
<td>每页要查询的数量，不传入缺少由服务端统一设置</td>
</tr>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">否</td>
<td style="text-align: left;">string</td>
<td>要查询的权限组的名称</td>
</tr>
</tbody>
</table>
<p><strong>返回示例</strong></p>
<table width='100%' class='codestyle'><pre><code>  {
    &quot;code&quot;: 0,
    &quot;msg&quot;: &quot;Success&quot;,
    &quot;data&quot;: {
      &quot;list&quot;: [
        {
            &quot;id&quot;:123,
            &quot;name&quot;:&quot;编辑维护组&quot;,
            &quot;rolelist&quot;:[
                {

                }
            ]
        }
      ],
      &quot;totalnum&quot;:999,
      &quot;currpage&quot;:1,
      &quot;totalpage&quot;:100
    }
  }</code></pre></table>
<p><strong>返回参数说明</strong> </p>
<table>
<thead><tr style='background-color: rgb(0, 136, 204); color: rgb(255, 255, 255);'>
<th style="text-align: left;">参数名</th>
<th style="text-align: left;">类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">code</td>
<td style="text-align: left;">int</td>
<td>0表示成功，非0表示错误</td>
</tr>
<tr>
<td style="text-align: left;">msg</td>
<td style="text-align: left;">string</td>
<td>错误信息</td>
</tr>
<tr>
<td style="text-align: left;">data</td>
<td style="text-align: left;">Array</td>
<td>数据体内容</td>
</tr>
<tr>
<td style="text-align: left;">list</td>
<td style="text-align: left;">Array</td>
<td>用户列表</td>
</tr>
<tr>
<td style="text-align: left;">id</td>
<td style="text-align: left;">int</td>
<td>用户唯一ID</td>
</tr>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">string</td>
<td>用户登录账号</td>
</tr>
<tr>
<td style="text-align: left;">realname</td>
<td style="text-align: left;">string</td>
<td>真实姓名</td>
</tr>
<tr>
<td style="text-align: left;">headimg</td>
<td style="text-align: left;">string</td>
<td>头像</td>
</tr>
<tr>
<td style="text-align: left;">roleid</td>
<td style="text-align: left;">int</td>
<td>所在权限组ID</td>
</tr>
<tr>
<td style="text-align: left;">rolename</td>
<td style="text-align: left;">string</td>
<td>所在权限组名称</td>
</tr>
<tr>
<td style="text-align: left;">status</td>
<td style="text-align: left;">int</td>
<td>当前状态，1正常，2已停用</td>
</tr>
<tr>
<td style="text-align: left;">totalnum</td>
<td style="text-align: left;">int</td>
<td>总记录数</td>
</tr>
<tr>
<td style="text-align: left;">currpage</td>
<td style="text-align: left;">int</td>
<td>当前页数</td>
</tr>
<tr>
<td style="text-align: left;">totalpage</td>
<td style="text-align: left;">int</td>
<td>总页数</td>
</tr>
</tbody>
</table>
<p><strong>备注</strong> </p></div></div></div><h2>4.3、目的地</h2><div style="margin-left:20px;"></div><h2>4.4、标签</h2><div style="margin-left:20px;"></div><h2>4.5、用户</h2><div style="margin-left:20px;"></div><h2>4.6、数据统计</h2><div style="margin-left:20px;"></div><h2>4.7、社区</h2><div style="margin-left:20px;"></div></div></body></html>