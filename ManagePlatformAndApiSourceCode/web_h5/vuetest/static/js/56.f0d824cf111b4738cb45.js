webpackJsonp([56],{"7it7":function(t,e,r){var n=r("cPL6");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);r("rjj0")("e0b3311a",n,!0,{})},cPL6:function(t,e,r){e=t.exports=r("FZ+f")(!0),e.push([t.i,"\nbody[data-v-215f7dcd] {\n  background: #f7f7f7;\n}\n.weui-dialog__btn_primary[data-v-215f7dcd] {\n  color: #008fe2;\n}\n#myOrder .myorder-tab[data-v-215f7dcd] {\n  width: 100%;\n  height: 1.066667rem;\n  font-size: 14px;\n  font-family: PingFang-SC-Regular;\n}\n#myOrder .myorder-tab .myorder-container[data-v-215f7dcd] {\n    width: 100%;\n    background: #f7f7f7;\n}\n#myOrder .myorder-tab .myorder-container-item[data-v-215f7dcd] {\n      width: 100%;\n      margin-top: .266667rem;\n}\n#myOrder .order[data-v-215f7dcd] {\n  background: #fff;\n}\n#myOrder .order .main .order_list li[data-v-215f7dcd] {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n            justify-content: space-between;\n    padding: .266667rem 0;\n    border-bottom: 1px solid #d8d8d8;\n}\n#myOrder .order .main .order_list li[data-v-215f7dcd]:last-child {\n      border-bottom: 0;\n}\n#myOrder .order .main .order_list li .ordermain[data-v-215f7dcd] {\n      width: 18%;\n}\n#myOrder .order .main .order_list li .orderprice[data-v-215f7dcd] {\n      width: 78%;\n}\n#myOrder .order .main .order_list li .orderprice > div[data-v-215f7dcd] {\n        width: 100%;\n        display: -webkit-box;\n        display: -webkit-flex;\n        display: flex;\n        -webkit-box-pack: justify;\n        -webkit-justify-content: space-between;\n                justify-content: space-between;\n        color: #333;\n        font-size: 0.42667rem;\n}\n#myOrder .order .main .order_list li .orderprice .orderpricenum[data-v-215f7dcd] {\n        margin-top: .373333rem;\n        color: #999;\n        font-size: 0.4rem;\n}\n#myOrder .list-wrap[data-v-215f7dcd] {\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  background-color: #fff;\n}\n#myOrder .list-wrap .headerwrap[data-v-215f7dcd], #myOrder .list-wrap .footerwrap[data-v-215f7dcd] {\n    height: auto;\n    width: 100%;\n    background-color: #fff;\n    line-height: 1.33333rem;\n    font-size: 13px;\n    color: #666666;\n    letter-spacing: 0;\n    text-align: left;\n}\n#myOrder .list-wrap .headerCon[data-v-215f7dcd] {\n    width: 100%;\n    height: 1.33333rem;\n}\n#myOrder .list-wrap .headerCon p[data-v-215f7dcd] {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      width: 50%;\n      float: left;\n}\n#myOrder .list-wrap .headerCon p[data-v-215f7dcd]:first-child {\n      text-align: left;\n}\n#myOrder .list-wrap .headerCon p[data-v-215f7dcd]:nth-child(2) {\n      font-size: 15px;\n      color: #ff6701;\n      text-align: right;\n}\n#myOrder .list-wrap-main[data-v-215f7dcd] {\n    width: 92%;\n    margin: 0 auto;\n}\n#myOrder .list-wrap-container[data-v-215f7dcd] {\n    width: 100%;\n    min-height: .8rem;\n}\n#myOrder .list-wrap .item-border ul[data-v-215f7dcd] {\n    border-bottom: 0px solid #d8d8d8;\n}\n#myOrder .footer-default-container[data-v-215f7dcd] {\n  width: 100%;\n  height: 1.33333rem;\n}\n#myOrder .footer-default-container div[data-v-215f7dcd] {\n    margin: .266667rem .4rem .266667rem 0rem;\n    float: right;\n}\n#myOrder .footer-default-container div[data-v-215f7dcd]:first-child {\n    margin: .266667rem 0rem .266667rem 0rem;\n}\n","",{version:3,sources:["/Users/binyang/work/edifier/jing_code/waptest/src/views/user/myOrder.vue"],names:[],mappings:";AACA;EACE,oBAAoB;CACrB;AACD;EACE,eAAe;CAChB;AACD;EACE,YAAY;EACZ,oBAAoB;EACpB,gBAAgB;EAChB,iCAAiC;CAClC;AACD;IACI,YAAY;IACZ,oBAAoB;CACvB;AACD;MACM,YAAY;MACZ,uBAAuB;CAC5B;AACD;EACE,iBAAiB;CAClB;AACD;IACI,qBAAqB;IACrB,sBAAsB;IACtB,cAAc;IACd,0BAA0B;IAC1B,uCAAuC;YAC/B,+BAA+B;IACvC,sBAAsB;IACtB,iCAAiC;CACpC;AACD;MACM,iBAAiB;CACtB;AACD;MACM,WAAW;CAChB;AACD;MACM,WAAW;CAChB;AACD;QACQ,YAAY;QACZ,qBAAqB;QACrB,sBAAsB;QACtB,cAAc;QACd,0BAA0B;QAC1B,uCAAuC;gBAC/B,+BAA+B;QACvC,YAAY;QACZ,sBAAsB;CAC7B;AACD;QACQ,uBAAuB;QACvB,YAAY;QACZ,kBAAkB;CACzB;AACD;EACE,YAAY;EACZ,aAAa;EACb,uBAAuB;EACvB,uBAAuB;CACxB;AACD;IACI,aAAa;IACb,YAAY;IACZ,uBAAuB;IACvB,wBAAwB;IACxB,gBAAgB;IAChB,eAAe;IACf,kBAAkB;IAClB,iBAAiB;CACpB;AACD;IACI,YAAY;IACZ,mBAAmB;CACtB;AACD;MACM,iBAAiB;MACjB,wBAAwB;MACxB,WAAW;MACX,YAAY;CACjB;AACD;MACM,iBAAiB;CACtB;AACD;MACM,gBAAgB;MAChB,eAAe;MACf,kBAAkB;CACvB;AACD;IACI,WAAW;IACX,eAAe;CAClB;AACD;IACI,YAAY;IACZ,kBAAkB;CACrB;AACD;IACI,iCAAiC;CACpC;AACD;EACE,YAAY;EACZ,mBAAmB;CACpB;AACD;IACI,yCAAyC;IACzC,aAAa;CAChB;AACD;IACI,wCAAwC;CAC3C",file:"myOrder.vue",sourcesContent:["\nbody[data-v-215f7dcd] {\n  background: #f7f7f7;\n}\n.weui-dialog__btn_primary[data-v-215f7dcd] {\n  color: #008fe2;\n}\n#myOrder .myorder-tab[data-v-215f7dcd] {\n  width: 100%;\n  height: 1.066667rem;\n  font-size: 14px;\n  font-family: PingFang-SC-Regular;\n}\n#myOrder .myorder-tab .myorder-container[data-v-215f7dcd] {\n    width: 100%;\n    background: #f7f7f7;\n}\n#myOrder .myorder-tab .myorder-container-item[data-v-215f7dcd] {\n      width: 100%;\n      margin-top: .266667rem;\n}\n#myOrder .order[data-v-215f7dcd] {\n  background: #fff;\n}\n#myOrder .order .main .order_list li[data-v-215f7dcd] {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n            justify-content: space-between;\n    padding: .266667rem 0;\n    border-bottom: 1px solid #d8d8d8;\n}\n#myOrder .order .main .order_list li[data-v-215f7dcd]:last-child {\n      border-bottom: 0;\n}\n#myOrder .order .main .order_list li .ordermain[data-v-215f7dcd] {\n      width: 18%;\n}\n#myOrder .order .main .order_list li .orderprice[data-v-215f7dcd] {\n      width: 78%;\n}\n#myOrder .order .main .order_list li .orderprice > div[data-v-215f7dcd] {\n        width: 100%;\n        display: -webkit-box;\n        display: -webkit-flex;\n        display: flex;\n        -webkit-box-pack: justify;\n        -webkit-justify-content: space-between;\n                justify-content: space-between;\n        color: #333;\n        font-size: 0.42667rem;\n}\n#myOrder .order .main .order_list li .orderprice .orderpricenum[data-v-215f7dcd] {\n        margin-top: .373333rem;\n        color: #999;\n        font-size: 0.4rem;\n}\n#myOrder .list-wrap[data-v-215f7dcd] {\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  background-color: #fff;\n}\n#myOrder .list-wrap .headerwrap[data-v-215f7dcd], #myOrder .list-wrap .footerwrap[data-v-215f7dcd] {\n    height: auto;\n    width: 100%;\n    background-color: #fff;\n    line-height: 1.33333rem;\n    font-size: 13px;\n    color: #666666;\n    letter-spacing: 0;\n    text-align: left;\n}\n#myOrder .list-wrap .headerCon[data-v-215f7dcd] {\n    width: 100%;\n    height: 1.33333rem;\n}\n#myOrder .list-wrap .headerCon p[data-v-215f7dcd] {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      width: 50%;\n      float: left;\n}\n#myOrder .list-wrap .headerCon p[data-v-215f7dcd]:first-child {\n      text-align: left;\n}\n#myOrder .list-wrap .headerCon p[data-v-215f7dcd]:nth-child(2) {\n      font-size: 15px;\n      color: #ff6701;\n      text-align: right;\n}\n#myOrder .list-wrap-main[data-v-215f7dcd] {\n    width: 92%;\n    margin: 0 auto;\n}\n#myOrder .list-wrap-container[data-v-215f7dcd] {\n    width: 100%;\n    min-height: .8rem;\n}\n#myOrder .list-wrap .item-border ul[data-v-215f7dcd] {\n    border-bottom: 0px solid #d8d8d8;\n}\n#myOrder .footer-default-container[data-v-215f7dcd] {\n  width: 100%;\n  height: 1.33333rem;\n}\n#myOrder .footer-default-container div[data-v-215f7dcd] {\n    margin: .266667rem .4rem .266667rem 0rem;\n    float: right;\n}\n#myOrder .footer-default-container div[data-v-215f7dcd]:first-child {\n    margin: .266667rem 0rem .266667rem 0rem;\n}\n"],sourceRoot:""}])},ipMH:function(t,e,r){"use strict";function n(t){r("7it7")}Object.defineProperty(e,"__esModule",{value:!0});var a=r("odqc"),d=r("Znkm"),i=r("fBcm"),o=r("b+jt"),s=r("62KO"),c=r("8pLc"),l=r("/CG/"),f=r("wC/b"),u=r("vMJZ"),A=(a.a,d.a,i.a,o.a,l.a,f.a,c.a,s.a,{name:"myOrder",data:function(){return{noDataShow:!1,postData:{page:1,pagenum:50},toBottom:!1,loadingTips:"加载中...",curTab:0,selectItem:"",tabList:[{label:"全部订单",val:"all"},{label:"待付款",val:1},{label:"待收货",val:2},{label:"已完成",val:3},{label:"取消/退款",val:4}],noData:{txt:"还没有相关订单呢~",img:"static/images/noOrder.png"},curData:[]}},computed:{},filters:{statusFilter:function(t){var e="";switch(t){case"waittingpay":e="待付款";break;case"payed":e="已付款";break;case"payedone":e="已付定金";break;case"waittingsecpay":e="待付尾款";break;case"sent":e="已发货";break;case"recieve":e="已签收";break;case"finish":e="已完成";break;case"refunding":e="退款中";break;case"agreerefund":e="同意退款";break;case"reject":e="拒绝退款";break;case"waittingconfirm":e="退款待确认";break;case"refunded":e="退款完成";break;case"overtime":e="超时关闭";break;case"cancel":e="取消关闭";break;default:e="未知"}return e}},created:function(){console.log(this.curTab),this.$route.query.type?(console.log(this.$route.query.type),this.curTab=Number(this.$route.query.type),this.selectItem=Number(this.$route.query.type),this.postData.status=this.$route.query.type,this.getOrder()):this.getOrder()},components:{Tab:a.a,TabItem:d.a,Swiper:i.a,SwiperItem:o.a,ShopBtn:l.a,shopList:f.a,nodata:c.a,Confirm:s.a},methods:{allconfirm:function(t,e){var r="",n=this;"recieve"===e?r="确认收货?":"waittingpay"===e?r="确认取消此订单?":"cancel"===e&&(r="确认删除此订单?"),this.$vux.confirm.show({title:"温馨提示",content:r,onCancel:function(){},onConfirm:function(){n.$vux.loading.show(),"recieve"===e?n.handleConfirm(t):"waittingpay"===e?n.handleCancel(t):"cancel"===e&&n.handleDel(t)}})},getOrder:function(){var t=this;this.noDataShow=!1,"all"!==this.selectItem?this.postData.status=this.selectItem:this.postData.status="",this.$vux.loading.show(),Object(u.r)(this.postData).then(function(e){if(setTimeout(function(){t.toBottom=!1},2e3),t.$vux.loading.hide(),0===e.data.errorcode){if(t.postData.page>1&&t.postData.page<=Math.ceil(e.data.totalpage/t.postData.pagenum))return console.log("concat"),void(t.curData=t.curData.concat(e.data.data.orderlist));if(t.postData.page>Math.ceil(e.data.totalpage/t.postData.pagenum))return void t.$vux.toast.text("没有更多数据","middle");t.curData=[],t.curData=e.data.data.orderlist}else t.$vux.toast.text(e.data.errormsg,"middle");t.curData.length<1&&(t.noDataShow=!0)}).catch(function(e){t.$vux.loading.hide(),t.noDataShow=!0,setTimeout(function(){t.toBottom=!1},2e3),console.log(e),t.$vux.toast.text("网络异常！","middle")})},handleSelectItem:function(t){this.postData.page=1,this.selectItem=t.val,console.log(this.selectItem),this.getOrder()},handleCancel:function(t){var e=this;console.log(t);var r={orderid:t.orderid};Object(u.e)(r).then(function(t){e.$vux.loading.hide(),0===t.data.errorcode?(e.$vux.toast.text("取消成功","middle"),e.getOrder()):e.$vux.toast.text(t.data.errormsg,"middle")}).catch(function(t){e.$vux.loading.hide(),console.log(t),e.$vux.toast.text("网络异常！","middle")})},handlePay:function(t){window.location.href="https://m.hecate.edifier.com/wap/index.html#/nowPay?id="+t.orderid},handleConfirm:function(t){var e=this,r={orderid:t.orderid};Object(u.c)(r).then(function(t){e.$vux.loading.hide(),0===t.data.errorcode?(e.$vux.toast.text("操作成功","middle"),e.postData.status=3,e.getOrder()):e.$vux.toast.text(t.data.errormsg,"middle")}).catch(function(t){e.$vux.loading.hide(),console.log(t),e.$vux.toast.text("网络异常！","middle")})},handleComment:function(t){this.$router.push({name:"uc-submitcomments",query:{id:t.orderid}})},handleLogistics:function(t){this.$router.push({name:"uc-orderLogistics",query:{id:t.orderid}})},handleDetail:function(t){console.log(t),this.$router.push({name:"uc-orderDetail",query:{id:t.orderid}})},handleToGoods:function(t){console.log(t),this.$router.push({name:"orderDetail",query:{skuid:t.skuid}})},handleRefundProgress:function(t){this.$router.push({name:"uc-refundDetail",query:{id:t.orderid}})},handleDel:function(t){var e=this,r={orderid:t.orderid};Object(u.i)(r).then(function(t){e.$vux.loading.hide(),0===t.data.errorcode?(e.$vux.toast.text("删除成功","middle"),e.getOrder()):e.$vux.toast.text(t.data.errormsg,"middle")}).catch(function(t){e.$vux.loading.hide(),console.log(t),e.$vux.toast.text("网络异常！","middle")})},buyAgain:function(t){var e=this,r={orderid:t.orderid};Object(u.b)(r).then(function(t){0===t.data.errorcode?e.$router.push({path:"/confirmOrder",query:{preid:t.data.data.preid}}):e.$vux.toast.text(t.data.errormsg,"middle")}).catch(function(t){console.log(t),e.$vux.toast.text("网络异常！","middle")})},handleRefund:function(t){this.$router.push({name:"uc-submitRefunds",query:{id:t.orderid}})},loadingMore:function(){this.toBottom||(this.postData.page++,console.log("more"),this.toBottom=!0,this.getOrder())},test:function(){console.log(2323)}}}),m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"myOrder"}},[r("div",{staticClass:"myorder-wrap"},[r("div",{staticClass:"myorder-tab"},[r("tab",{attrs:{"active-color":"#008fe2","scroll-threshold":5,"line-width":2,"custom-bar-width":"44px"},model:{value:t.curTab,callback:function(e){t.curTab=e},expression:"curTab"}},t._l(t.tabList,function(e,n){return r("tab-item",{key:n,staticClass:"vux-center",attrs:{selected:t.selectItem===e.val},on:{"on-item-click":function(r){t.handleSelectItem(e)}}},[t._v(t._s(e.label))])})),t._v(" "),t._l(t.tabList,function(e,n){return r("div",{directives:[{name:"show",rawName:"v-show",value:t.curTab===n,expression:"curTab === index"}],key:n,staticClass:"myorder-container"},[t._l(t.curData,function(e,n){return r("div",{key:n,staticClass:"myorder-container-item",on:{click:function(r){t.handleDetail(e)}}},[r("div",{staticClass:"list-wrap"},[t.curData.length?r("div",{staticClass:"list-wrap-main"},[r("div",{staticClass:"headerwrap"},[r("div",{staticClass:"headerCon",staticStyle:{"border-bottom":"1px solid #d8d8d8"}},[r("p",[t._v(t._s(e.ordertime))]),t._v(" "),"waittingpay"===e.orderstatus||"refunding"===e.orderstatus||"waittingconfirm"===e.orderstatus?r("p",[t._v(t._s(t._f("statusFilter")(e.orderstatus)))]):r("p",{staticStyle:{color:"#333333"}},[t._v(t._s(t._f("statusFilter")(e.orderstatus)))])])]),t._v(" "),r("div",{staticClass:"list-wrap-container item-borde"},[r("div",{staticClass:"order"},t._l(e.productinfo,function(n,a){return r("div",{key:a,staticClass:"main",staticStyle:{"border-bottom":"1px solid #d8d8d8"}},[r("p",{directives:[{name:"show",rawName:"v-show",value:e.productinfo.length<1,expression:"item.productinfo.length < 1"}]},[t._v("暂无数据")]),t._v(" "),e.productinfo.length>0?r("ul",{staticClass:"order_list"},[r("li",[r("div",{staticClass:"ordermain"},[r("img",{staticStyle:{"line-height":"2.186667rem",color:"#333333"},attrs:{src:n.skuimg,width:"100%",alt:""}})]),t._v(" "),r("div",{staticClass:"orderprice"},[r("div",[r("span",[t._v(t._s(n.productname))]),r("span",[t._v("￥"+t._s(n.price))])]),t._v(" "),r("div",{staticClass:"orderpricenum"},[r("div",[t._v(t._s(n.skuname))]),r("div",[t._v("×"+t._s(n.num))])])])])]):t._e()])}))]),t._v(" "),r("div",{staticClass:"footerwrap"},[r("div",{staticClass:"footer-default-container"},["waittingsecpay"===e.orderstatus||"waittingpay"===e.orderstatus?r("shop-btn",{attrs:{btntext:"立即付款",lineWidth:0,defaultBgColor:"#ff6701",fontColor:"#ffffff"},on:{onClick:function(r){t.handlePay(e)}}}):t._e(),t._v(" "),"recieve"===e.orderstatus||"sent"===e.orderstatus?r("shop-btn",{attrs:{btntext:"确认收货",lineWidth:0,defaultBgColor:"#ff6701",fontColor:"#ffffff"},on:{onClick:function(r){t.allconfirm(e,"recieve")}}}):t._e(),t._v(" "),"payed"!==e.orderstatus&&"sent"!==e.orderstatus&&"recieve"!==e.orderstatus||0!==e.isrefunded?t._e():r("shop-btn",{attrs:{btntext:"申请退款",defaultBgColor:"#ff6701",fontColor:"#ffffff",defaultBorderColor:"#ff6701"},on:{onClick:function(r){t.handleRefund(e)}}}),t._v(" "),"waittingpay"===e.orderstatus?r("shop-btn",{attrs:{btntext:"取消订单"},on:{onClick:function(r){t.allconfirm(e,"waittingpay")}}}):t._e(),t._v(" "),"sent"===e.orderstatus||"recieve"===e.orderstatus||"finish"===e.orderstatus?r("shop-btn",{attrs:{btntext:"查看物流",fontColor:"#ff6701",defaultBorderColor:"#ff6701"},on:{onClick:function(r){t.handleLogistics(e)}}}):t._e(),t._v(" "),"refunding"===e.orderstatus||"agreerefund"===e.orderstatus||"waittingconfirm"===e.orderstatus||"reject"===e.orderstatus?r("shop-btn",{attrs:{btntext:"退款进度",fontColor:"#ff6701",defaultBorderColor:"#ff6701"},on:{onClick:function(r){t.handleRefundProgress(e)}}}):t._e(),t._v(" "),"overtime"===e.orderstatus?r("shop-btn",{attrs:{btntext:"再次下单",fontColor:"#ff6701",defaultBorderColor:"#ff6701"},on:{onClick:function(r){t.buyAgain(e)}}}):t._e(),t._v(" "),"cancel"===e.orderstatus||"overtime"===e.orderstatus?r("shop-btn",{attrs:{btntext:"删除订单"},on:{onClick:function(r){t.allconfirm(e,"cancel")}}}):t._e()],1)])]):t._e()])])}),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.noDataShow,expression:"noDataShow"}]},[r("nodata",{attrs:{tipsTxt:t.noData.txt,tipsImg:!!t.noData.img&&t.noData.img}})],1)],2)})],2)])])},h=[],C={render:m,staticRenderFns:h},p=C,v=r("VU/8"),g=n,b=v(A,p,!1,g,"data-v-215f7dcd",null);e.default=b.exports}});
//# sourceMappingURL=56.f0d824cf111b4738cb45.js.map